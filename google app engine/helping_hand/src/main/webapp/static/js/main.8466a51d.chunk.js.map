{"version":3,"sources":["Components/Common/Utils/EmailVerification.js","Components/Common/Utils/Paths.js","Components/Common/Menu/MenuItem.js","Components/Common/Menu/Menu.js","helpinghandBetaNoLetters.png","Components/Common/Footer/Footer.js","Components/Home/Home.js","Components/User/Login.js","Components/User/Register.js","Components/User/UpdateInfo.js","Components/User/Popups/Images.js","Components/User/Popups/Helpers.js","Components/User/Popups/Participants.js","Components/Common/Utils/Popups/CreateEvent.js","Components/Common/Utils/Popups/CreateHelp.js","Components/Common/Utils/Popups/InfoWindowPopUp.js","Components/Common/Utils/Maps.js","legenda.png","Components/User/Profile.js","Components/User/ChangePassword.js","Components/User/UpdateProfile.js","Components/User/UpdateEmail.js","Components/User/ProfileSettings.js","Components/Common/Backoffice/Components/Operations.js","Components/Common/Backoffice/Components/ListUsers.js","Components/Common/Backoffice/Components/ListInstitutions.js","Components/Common/Backoffice/Components/UserStats.js","Components/Common/Backoffice/Components/ListReports.js","Components/Common/Backoffice/BoHome.js","Components/Common/Utils/Feed.js","di.jpg","remote.jpg","office.jpg","Components/Common/AboutUs/AboutUs.js","Components/Common/Utils/Report.js","App.js","reportWebVitals.js","index.js"],"names":["EmailVerification","props","state","confirmation","handleVerification","bind","a","url","window","location","href","base64request","split","base64ToString","Buffer","from","toString","this","string","console","log","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","ok","swal","Component","PathsLabel","ServicePathsLabel","Roles","MenuItem","Nav","Link","id","className","isActive","onClick","icon","label","Menu","logout","sessionStorage","setItem","setState","clear","hash","isGbo","getItem","Navbar","collapseOnSelect","expand","bg","variant","Toggle","Collapse","setActiveMenuItem","isLoggedIn","loggedInMenu","guestMenu","Home","src","Logo","alt","width","height","Login","username","password","isInstitution","error","handleLogin","onChange","onSelect","hideAlert","e","target","parentNode","checkValidity","json","token","role","reload","catch","value","name","eventKey","Form","Group","controlId","Label","Control","type","placeholder","required","Button","to","passPattern","Register","email","password2","institutionName","institutionUsername","institutionInitials","institutionEmail","isPassCorrect","handleRegister","initials","data","preventDefault","dropdownTitle","matchPass","DropdownButton","title","Dropdown","Item","active","validated","pattern","UpdateInfo","phone","addr1","addr2","city","zip","handleUpdate","address1","address2","zipcode","addr","Images","avatar","handleChangeAvatar","avatarId","Row","Col","Image","size","Helpers","helpers","handleChooseHelper","helpersAux","urlHelpers","cardId","i","length","obj","helper","rating","reliability","parseFloat","toFixed","push","helperId","statusText","Error","Container","xs","md","map","index","Participants","participants","participantsAux","urlParticipants","participant","creation","status","visibility","CreateEvent","creator","description","startDate","Date","endDate","locationName","locationLL","handleEvent","handleStartDate","handleEndDate","date","formatD","dateFormat","locationTmp","Geocode","setApiKey","setRegion","fromAddress","results","geometry","lat","lng","start","end","d1","d2","Table","calendarType","format","disableClock","CreateHelp","dateH","handleHelp","handleDate","time","d","InfoWindowPopUp","infoWindowRef","React","createRef","contentElement","document","createElement","prevProps","children","ReactDOM","render","Children","only","current","infowindow","setContent","ref","mapStyles","position","Maps","onMarkerClick","marker","selectedPlace","activeMarker","showingInfoWindow","submit","load","initialCenter","markers","distance","existsMarkers","handleOfferHelp","handleJoinEvent","changeCenter","urlHelp","urlEvent","markersAux","isEvent","removeItem","sm","trigger","modal","nested","google","zoom","style","onClose","onInfoWindowClose","visible","left","bottom","GoogleApiWrapper","apiKey","Profile","bio","dataCreation","avatarUrl","categories","cards","mine","handleFinishHelp","handleFinishEvent","handleCancelHelp","handleCancelEvent","handleShowOnMap","urlAcc","urlInfo","urlStats","urlHelpSub","urlEventSub","urlProfileUser","urlProfileInst","cardsAux","mineAux","multReliab","card","buttons","dangerMode","willDelete","Swal","fire","input","inputAttributes","min","max","step","inputValue","result","isConfirmed","getInput","value1","value2","locationLat","locationLng","finalR","isUser","lg","border","color","Tabs","defaultActiveKey","Tab","readOnly","defaultValue","as","rows","Card","margin","Body","Title","Text","fontsize","me","handleLeaveEvent","handleLeaveHelp","ChangePassword","oldPass","newPass","newPass2","handleChangePass","oldPassword","newPassword","UpdateProfile","UpdateEmail","newMail","handleUpdateEmail","ProfileSettings","handleDelete","handleVisibility","changeVisibility","visibilityString","text","PullRight","checked","onlabel","offlabel","block","Content","Pane","Operations","deleteID","disableID","roleID","newRole","infoID","updateDeleteID","updateDisableID","updateRoleID","updateNewRole","updateInfoID","delete","disable","handleDeleteAccount","handleDisableAccount","handleUpdateRole","event","willDisable","willUpdateRole","ListUsers","visib","list","profile","showUsers","closeUsers","st","res","user","convertBoolean","ListInstitutions","showInstitutions","closeInstitutions","inst","UserStats","changeStart","toDate","changeEnd","getStats","showStats","closeStats","xType","tickLabelAngle","ListReports","message","showReports","closeReports","deleteReport","answerReport","changeMessage","report","subject","BoHome","striped","bordered","hover","Feed","feed","feedAux","urlFeed","feedInfo","info","AboutUs","DI","remote","office","Report","changeSubject","changeText","button","App","exact","path","component","BackOffice","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8466a51d.chunk.js","sourcesContent":["import React,{ Component } from 'react';\r\nimport swal from 'sweetalert';\r\n\r\n\r\n\r\nclass EmailVerification extends Component{\r\nconstructor(props){\r\n    super(props)\r\n    this.state={\r\n        confirmation:''\r\n    }\r\n    this.handleVerification = this.handleVerification.bind(this);\r\n}\r\nasync componentDidMount(){\r\n    var url = window.location.href;\r\n    var base64request = url.split(\"?request=\")[1];\r\n    let base64ToString = Buffer.from(base64request, \"base64\").toString();\r\n \r\n    await this.handleVerification(base64ToString);\r\n}\r\n\r\n//funcao que faz handle do pedido?\r\nhandleVerification(string){\r\n    var url= string;\r\n    console.log(url)\r\n    let json : test ={\r\n\r\n    }\r\n    const requestOptions = {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(json)\r\n    }\r\n\r\n    fetch(url,requestOptions)\r\n    .then(response =>{\r\n     if (response.ok) {\r\n         swal(\"ok\",\"\",\"success\");\r\n     }\r\n     else{\r\n         swal(\"ok\",\"\",\"error\");\r\n    }})\r\n\r\n\r\n\r\n}\r\n\r\n\r\nrender(){\r\n    return(\r\n        <h5>A VERIFICAR EMAIL...</h5>\r\n    )\r\n}\r\n}\r\nexport default EmailVerification;","const PathsLabel = {\r\n    Home: \"/\",\r\n    Register: \"/register\",\r\n    Login: \"/login\",\r\n    UpdateInfo: \"/info\",\r\n    UpdateEmail:\"/email\",\r\n    Profile: \"/profile\",\r\n    ProfileSettings:\"/profilesettings\",\r\n    ChangePassword: \"/password\",\r\n    Account:\"/account\",\r\n    Maps: \"/maps\",\r\n    Stats: \"/stats\",\r\n    Delete: \"/delete\",\r\n    Visibility:\"/visibility\",\r\n    Event: \"event\",\r\n    Feed: \"/feed\",\r\n    Leave:\"/leave\",\r\n    Help: \"help\",\r\n    Helping:\"/helping\",\r\n    Participating:\"/participating\",\r\n    Helper:\"/helper\",\r\n    ListPartic:\"/list\",\r\n    Finish:\"/finish\",\r\n    End:\"/end\",\r\n    Cancel:\"/cancel\",\r\n    Avatar:\"/avatar\",\r\n    offerHelp: \"/offer\",\r\n    joinEvent: \"/join\",\r\n    BackOffice: \"/backoffice\",\r\n    AboutUs: \"/aboutus\",\r\n    Report:\"/report\",\r\n    EmailVerification:\"/confirmation\"\r\n}\r\n\r\nconst ServicePathsLabel = {\r\n    Api: \"http://localhost:8080/rest/\",\r\n    ApiProd: \"https://thehelpinghand.ew.r.appspot.com/rest/\",\r\n    ImageBucket: \"https://storage.googleapis.com/thehelpinghand.appspot.com/avatars/\",\r\n    User: \"user\",\r\n    Institution: \"institution\"\r\n\r\n}\r\n\r\nconst Roles = {\r\n    User: \"user/\",\r\n    Institution: \"institution/\",\r\n    Gbo:\"restricted/\",\r\n    Admin: \"admin/\"\r\n    \r\n}\r\n\r\n\r\nexport { PathsLabel, ServicePathsLabel, Roles };","import React from 'react'\r\nimport { Nav } from 'react-bootstrap';\r\n\r\nexport const MenuItem = (props) =>\r\n    <Nav.Link id={props.id} href={\"#\" + props.href} className={props.isActive} onClick={props.onClick}>\r\n        {props.icon}{props.label}\r\n    </Nav.Link>\r\n","import React,{ Component } from \"react\";\r\nimport { Navbar, Nav } from 'react-bootstrap';\r\nimport { PathsLabel } from \"../Utils/Paths\";\r\nimport { MenuItem } from './MenuItem';\r\n\r\n//tratar da roda dentada\r\nclass Menu extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.logout = this.logout.bind(this);\r\n    }\r\n    setActiveMenuItem(id) {\r\n        sessionStorage.setItem(\"activeMenuItem\", id);\r\n        this.setState({});\r\n    }\r\n    //fazer sweetalert de logout\r\n    logout(){\r\n        sessionStorage.clear();\r\n        this.setState({});\r\n        window.location.hash = \"/\";\r\n    }\r\n\r\n    loggedInMenu() {\r\n        var isGbo = false;\r\n        if(sessionStorage.getItem(\"role\") === \"GBO\")\r\n            isGbo = true;\r\n\r\n\r\n        return (\r\n            <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                    <Nav className=\"pl-4\">\r\n                        <MenuItem id=\"home\" href=\"/\" label=\"Home\" isActive={true}\r\n                            onClick={() => this.setActiveMenuItem(\"home\")} />\r\n\r\n                        <MenuItem id=\"profile\" href={PathsLabel.Profile} label=\"Perfil\" isActive={true}\r\n                            onClick={() => this.setActiveMenuItem(\"profile\")} />\r\n\r\n                        <MenuItem id=\"maps\" href={PathsLabel.Maps} label=\"Mapa de Ajudas\" isActive={true}\r\n                            onClick={() => this.setActiveMenuItem(\"maps\")} />\r\n                        {\r\n                            !isGbo &&\r\n                            <MenuItem id=\"feed\" href={PathsLabel.Feed} label=\"Notificações\"\r\n                            isActive={true} onClick={() => this.setActiveMenuItem(\"feed\")} /> \r\n\r\n                        }\r\n                        <MenuItem id=\"aboutus\" href={PathsLabel.AboutUs} label=\"Sobre Nós\"\r\n                            isActive={true} onClick={() => this.setActiveMenuItem(\"aboutus\")} />\r\n\r\n                        <MenuItem id=\"report\" href={PathsLabel.Report} label=\"Reportar\"\r\n                            isActive={true} onClick={() => this.setActiveMenuItem(\"reportar\")} />\r\n                        { isGbo &&\r\n                            <MenuItem id=\"backoffice\" href={PathsLabel.BackOffice} label=\"BackOffice\"\r\n                            isActive={true} onClick={() => this.setActiveMenuItem(\"backoffice\")} />    \r\n                        }\r\n                    </Nav>            \r\n                </Navbar.Collapse>\r\n\r\n                <Nav className=\"ml-auto mr-4 \">\r\n                        <MenuItem id=\"Logout\" href=\"\" label=\"Terminar Sessão\" onClick={this.logout}></MenuItem>\r\n                    </Nav>\r\n            </Navbar>\r\n        );\r\n    }\r\n\r\n    guestMenu() {\r\n        return (\r\n            <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                    <Nav className=\"pl-4\">\r\n                        <MenuItem id=\"home\" href=\"/\" label=\"Home\" isActive={true}\r\n                            onClick={() => this.setActiveMenuItem(\"home\")} />\r\n\r\n                        <MenuItem id=\"register\" href={PathsLabel.Register} label=\"Registar\" isActive={true}\r\n                            onClick={() => this.setActiveMenuItem(\"register\")} />\r\n\r\n                        <MenuItem id=\"login\" href={PathsLabel.Login} label=\"Iniciar Sessão\" isActive={false}\r\n                            onClick={() => this.setActiveMenuItem(\"login\")} />\r\n                        <MenuItem id=\"aboutus\" href={PathsLabel.AboutUs} label=\"Sobre Nós\"\r\n                            isActive={true} onClick={() => this.setActiveMenuItem(\"aboutus\")} />\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        );\r\n    }\r\n    //POR ISTO QUANDO TESTES ESTIVEREM A FUNCIONAR\r\n    //sessionStorage.getItem(\"email\") !== null;\r\n    render() {\r\n        //false => menu guest(sem registo);\r\n        //true  => menu loggedIn(com registo e logIn feito)\r\n        const isLoggedIn = sessionStorage.getItem(\"id\") !== null;;\r\n        return (\r\n            <div>\r\n                { isLoggedIn &&\r\n                    this.loggedInMenu()\r\n                }\r\n\r\n                { !isLoggedIn &&\r\n                    this.guestMenu()\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Menu;","export default __webpack_public_path__ + \"static/media/helpinghandBetaNoLetters.a41f36b5.png\";","import React,{ Component } from \"react\";\r\nimport { Nav, Navbar } from 'react-bootstrap';  \r\n\r\n\r\nclass Footer extends Component {\r\n\r\n    render() {\r\n        return (\r\n            //IGUAL AO MENU\r\n                     //IGUAL AO MENU\r\n            <Navbar sticky=\"bottom\" bg=\"dark\" variant=\"dark\">\r\n                <Nav className=\"mr-auto\">\r\n                    <Nav.Link href=\"#aboutus\">Sobre nós</Nav.Link>\r\n                </Nav>\r\n            </Navbar>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport Logo from \"../../helpinghandBetaNoLetters.png\";\r\n\r\n\r\nclass Home extends Component {\r\n    //como ir buscar a foto a pasta do public\r\n    render() {\r\n        return (\r\n            <div className=\"px-4 py-5 my-5 text-center\">\r\n                <img className=\"d-block mx-auto mb-4\" src={Logo}\r\n                    alt=\"\" width=\"300\" height=\"213\"></img>\r\n                <h1 className=\"display-5 fw-bold\">Bem-vindos ao HelpingHand</h1>\r\n            </div>\r\n        );\r\n\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { Form, Button} from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { ServicePathsLabel ,PathsLabel} from '../Common/Utils/Paths.js';\r\nimport swal from 'sweetalert';\r\n\r\n//espaço entre os campos e o botao\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            isInstitution: false,\r\n            error: ''\r\n        }\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSelect = this.onSelect.bind(this);\r\n        this.hideAlert = this.hideAlert.bind(this);\r\n    }\r\n\r\n\r\n    handleLogin(e) {\r\n        var url = ServicePathsLabel.ApiProd; \r\n        if (e.target.parentNode.checkValidity()) {\r\n            if(!this.state.isInstitution){\r\n                url += ServicePathsLabel.User + \"/\" +this.state.username + PathsLabel.Login;\r\n                let json: Login = {\r\n                    id: this.state.username,\r\n                    password: this.state.password\r\n                }\r\n                const requestOptions = {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(json)\r\n                };\r\n                fetch(url,requestOptions) \r\n                .then(response => {\r\n                   if (response.ok) {\r\n                        return response.json();\r\n\r\n                    }else{\r\n                        swal(\"Password ou username errado. Tenta outra vez\",\"Já verificaste o teu email?\",\"error\");\r\n                    }\r\n                })\r\n                .then(json => {\r\n                    \r\n                    sessionStorage.setItem('token', json.token);\r\n                    sessionStorage.setItem('id',this.state.username);\r\n                    sessionStorage.setItem('role',json.role)\r\n                    window.location.hash = \"/\";\r\n                    window.location.reload();\r\n                    console.log(json)\r\n                \r\n                })\r\n                .catch(error => {\r\n                    console.log(error)    \r\n                    return;\r\n                }\r\n                );\r\n            }\r\n            \r\n        }\r\n        else {\r\n            swal(\"Por favor preencha todos os campos.\", \"error\");\r\n        }\r\n\r\n    }\r\n\r\n    onChange(e) {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        this.setState({ ...this.state, [name]: value });\r\n        console.log(this.state)\r\n\r\n    }\r\n\r\n    onSelect(eventKey) {\r\n        var isInstitution = true;\r\n        if (eventKey === '1') {\r\n            isInstitution = false;\r\n        }\r\n        this.setState({ isInstitution: isInstitution });\r\n    }\r\n\r\n    hideAlert(){\r\n        this.setState({error: ''});\r\n    }\r\n\r\n    //mudar o link para a cena final\r\n    render() {\r\n        return (\r\n            <div className=\"p-5\">\r\n                <Form>\r\n                    <Form.Group controlId=\"formUsername\">\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control type=\"username\" name=\"username\" placeholder=\"Introduz username\"\r\n                            onChange={this.onChange} value={this.state.username} required />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formPassword\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" name=\"password\" placeholder=\"Introduz password\"\r\n                            onChange={this.onChange} value={this.state.password} required />\r\n                    </Form.Group>\r\n                    \r\n                    <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleLogin}>\r\n                        Login\r\n                    </Button>\r\n\r\n                </Form>\r\n\r\n                <Link to=\"/register\">Não estás registado? Carrega aqui.</Link>\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport { Form, Button, Dropdown, DropdownButton } from 'react-bootstrap';\r\nimport { ServicePathsLabel,PathsLabel } from '../Common/Utils/Paths.js';\r\nimport swal from 'sweetalert';\r\n\r\nconst passPattern = '^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*?/=\"])[a-zA-Z0-9!@#$%^&*?/=\"]{8,20}$';\r\n\r\nclass Register extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            //user\r\n            username: '',\r\n            email: '',\r\n            password: '',\r\n            password2: '',\r\n            //institution\r\n            institutionName: '',\r\n            institutionUsername: '',\r\n            institutionInitials: '',\r\n            institutionEmail: '',\r\n            isInstitution: false,\r\n            isPassCorrect: true\r\n        }\r\n        this.handleRegister = this.handleRegister.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onSelect = this.onSelect.bind(this);\r\n    }\r\n\r\n    handleRegister(e) {\r\n        var url = ServicePathsLabel.ApiProd;\r\n        if (this.state.isInstitution) {\r\n            url += ServicePathsLabel.Institution;\r\n            if (e.target.parentNode.checkValidity()) {\r\n                let json: Institution = {\r\n                    id: this.state.institutionUsername,\r\n                    name: this.state.institutionName,\r\n                    initials: this.state.institutionInitials,  \r\n                    email: this.state.institutionEmail,\r\n                    password: this.state.password,\r\n                    confirmation:this.state.password2\r\n                }\r\n                const requestOptions = {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(json)\r\n                };                   \r\n                fetch(url, requestOptions)\r\n                .then(data => {\r\n                    swal(\"Registo feito com sucesso.\", \" \",\"success\")\r\n                    .then(() => {\r\n                        window.location.hash = PathsLabel.Login;\r\n                    });\r\n                })\r\n                .catch(\r\n                    \r\n                );\r\n                \r\n            }\r\n            else {\r\n                //alert(\"Por favor preencha todos os campos.\")\r\n                swal(\"Por favor preencha todos os campos.\", \" \", \"warning\");\r\n            }\r\n        }\r\n        else {\r\n            url += ServicePathsLabel.User;\r\n            if (e.target.parentNode.checkValidity()) {\r\n                let json: User = {\r\n                    id: this.state.username,\r\n                    email: this.state.email,\r\n                    password: this.state.password,\r\n                    confirmation: this.state.password2\r\n                }\r\n                const requestOptions = {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(json)\r\n                };\r\n                fetch(url, requestOptions)\r\n                .then(data => {\r\n                    swal(\"Registo feito com sucesso.\", \" \",\"success\")\r\n                    .then(() => {\r\n                        window.location.hash = PathsLabel.Login;\r\n                    });\r\n                })\r\n                .catch(\r\n\r\n                );\r\n            }\r\n            else {\r\n                swal(\"Por favor preencha todos os campos.\", \" \", \"warning\");\r\n            }\r\n\r\n        }\r\n\r\n        e.preventDefault();\r\n    }\r\n\r\n    onChange(e) {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        const isPassCorrect = target.checkValidity() || value === '';\r\n        console.log(value)\r\n        this.setState({ ...this.state, [name]: value, isPassCorrect: isPassCorrect });\r\n        console.log(this.state)\r\n        e.preventDefault();\r\n    }\r\n\r\n    onSelect(eventKey) {\r\n        var isInstitution = true;\r\n        if (eventKey === '1') {\r\n            isInstitution = false;\r\n        }\r\n        this.setState({ isInstitution: isInstitution });\r\n\r\n    }\r\n\r\n    render() {\r\n        const isInstitution = this.state.isInstitution;\r\n        const isPassCorrect = this.state.isPassCorrect;\r\n        var dropdownTitle = 'Utilizador';\r\n        if (isInstitution) {\r\n            dropdownTitle = 'Instituição';\r\n        }\r\n        var matchPass = this.state.password === this.state.password2;\r\n        if (!this.state.password || !this.state.password2)\r\n            matchPass = true;\r\n        return (\r\n            <div className=\"p-5\">\r\n                <p>Que tipo de utilizador é?</p>\r\n                <DropdownButton id=\"dropdown-basic-button\" variant='info' title={dropdownTitle} >\r\n                    <Dropdown.Item eventKey='1' active={!isInstitution} onSelect={() => this.onSelect('1')}>Utilizador</Dropdown.Item>\r\n                    <Dropdown.Item eventKey='2' active={isInstitution} onSelect={() => this.onSelect('2')}>Instituição</Dropdown.Item>\r\n                </DropdownButton>\r\n                <hr></hr>\r\n                {!isInstitution &&\r\n                    <Form validated>\r\n                        <Form.Group controlId=\"formUsername\">\r\n                            <Form.Label>Username</Form.Label>\r\n                            <Form.Control type=\"username\" name=\"username\" placeholder=\"Introduza o username\"\r\n                                onChange={this.onChange} value={this.state.username} required />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formEmail\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" name=\"email\" placeholder=\"Introduza o email\"\r\n                                onChange={this.onChange} value={this.state.email} required />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formPassword\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" name=\"password\"\r\n                                placeholder=\"Introduza a password entre 8-20 caracteres\"\r\n                                onChange={this.onChange} value={this.state.password} pattern={passPattern}\r\n                                required />\r\n                        </Form.Group>\r\n                        {!isPassCorrect &&\r\n                            <div className=\"text-danger\">\r\n                                <p>A password deve ter entre 8 a 20 caracteres e no minimo um simbolo,\r\n                                    um número, uma letra minúscula e uma letra maiúscula.</p>\r\n                            </div>\r\n                        }\r\n\r\n                        <Form.Group controlId=\"formRetypePassword\">\r\n                            <Form.Label>Confirmar Password</Form.Label>\r\n                            <Form.Control type=\"password\" name=\"password2\" placeholder=\"Reintroduza a password\"\r\n                                onChange={this.onChange} value={this.state.password2}\r\n                                required />\r\n                            {!matchPass &&\r\n                                <div className=\"text-danger\">\r\n                                    <p>A password está diferente.</p>\r\n                                </div>\r\n                            }\r\n                        </Form.Group>\r\n\r\n                        <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleRegister}>\r\n                            Registar\r\n                        </Button>\r\n                    </Form>\r\n                }\r\n\r\n                {isInstitution &&\r\n                    <div>\r\n                        <Form validated>\r\n                            <Form.Group controlId=\"formInstitutionName\">\r\n                                <Form.Label>Nome da instituição</Form.Label>\r\n                                <Form.Control type=\"name\" name=\"institutionName\" placeholder=\"Introduza o nome da instituição\"\r\n                                    onChange={this.onChange} value={this.state.institutionName} required />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formInstitutionUsername\">\r\n                                <Form.Label>Username da instituição</Form.Label>\r\n                                <Form.Control type=\"username\" name=\"institutionUsername\" placeholder=\"Introduza o username da instituição\"\r\n                                    onChange={this.onChange} value={this.state.institutionUsername} required />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formInstitutionInitials\">\r\n                                <Form.Label>Sigla da instituição</Form.Label>\r\n                                <Form.Control type=\"username\" name=\"institutionInitials\" placeholder=\"Introduza a sigla da instituição\"\r\n                                    onChange={this.onChange} value={this.state.institutionInitials} required />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formInstitutionEmail\">\r\n                                <Form.Label>Email da instituição</Form.Label>\r\n                                <Form.Control type=\"email\" name=\"institutionEmail\" placeholder=\"Introduza o email da instituição\"\r\n                                    onChange={this.onChange} value={this.state.institutionEmail} required />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formPassword\">\r\n                                <Form.Label>Password</Form.Label>\r\n                                <Form.Control type=\"password\" name=\"password\"\r\n                                    placeholder=\"Introduza a password entre 8-20 caracteres\"\r\n                                    onChange={this.onChange} value={this.state.password} pattern={passPattern}\r\n                                    required />\r\n                            </Form.Group>\r\n                            {!isPassCorrect &&\r\n                                <div className=\"text-danger\">\r\n                                    <p>A password deve ter entre 8 a 20 caracteres e no minimo um simbolo,\r\n                                    um número, uma letra minúscula e uma letra maiúscula.</p>\r\n                                </div>\r\n                            }\r\n\r\n                            <Form.Group controlId=\"formRetypePassword\">\r\n                                <Form.Label>Confirmar Password</Form.Label>\r\n                                <Form.Control type=\"password\" name=\"password2\" placeholder=\"Reintroduza a password\"\r\n                                    onChange={this.onChange} value={this.state.password2}\r\n                                    required />\r\n                                {!matchPass &&\r\n                                    <div className=\"text-danger\">\r\n                                        <p>A password está diferente.</p>\r\n                                    </div>\r\n                                }\r\n                            </Form.Group>\r\n                            \r\n                            <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleRegister}>\r\n                                Registar\r\n                            </Button>\r\n                        </Form>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nexport default Register;","import React, { Component } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { ServicePathsLabel ,PathsLabel} from '../Common/Utils/Paths.js';\r\nimport swal from 'sweetalert';\r\n\r\n//FORMS PARA USER ESTAO OK\r\n//FALTA FORMS PARA INST,\r\nclass UpdateInfo extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            phone: '',\r\n            addr1: '',\r\n            addr2: '',\r\n            city: '',\r\n            zip: ''\r\n        }\r\n        this.handleUpdate = this.handleUpdate.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    handleUpdate(e) {\r\n        var url =ServicePathsLabel.ApiProd;\r\n        if (sessionStorage.getItem(\"role\") === \"INSTITUTION\") {    \r\n            url += ServicePathsLabel.Institution + \"/\" + sessionStorage.getItem('id')\r\n            + PathsLabel.UpdateInfo + '?tokenId=' + sessionStorage.getItem('token');\r\n                let json: Institution = {\r\n                    phone: this.state.phone,\r\n                    address1: this.state.addr1,\r\n                    address2: this.state.addr2,\r\n                    zipcode: this.state.zip,\r\n                    city: this.state.city\r\n                }\r\n                const requestOptions = {\r\n                    method: 'PUT',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(json)\r\n                }\r\n                fetch(url,requestOptions)\r\n                .then(data =>{\r\n                    swal(\"Atualização feita com sucesso.\", \" \",\"success\");\r\n                }).catch(\r\n                    //arrow functions\r\n                );\r\n            }\r\n        \r\n        else{\r\n            url += ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id')\r\n            + PathsLabel.UpdateInfo + '?tokenId=' + sessionStorage.getItem('token');\r\n            let json: User = {\r\n                phone: this.state.phone,\r\n                address1: this.state.addr1,\r\n                address2: this.state.addr2,\r\n                zipcode: this.state.zip,\r\n                city: this.state.city\r\n            }\r\n\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(json)\r\n            }\r\n            fetch(url,requestOptions)\r\n            .then(data => {\r\n                swal(\"Atualização feita com sucesso.\", \" \",\"success\");\r\n            }).catch(\r\n                //arrow functions\r\n            );\r\n                \r\n        }\r\n               \r\n    }\r\n\r\n    onChange(e) {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        this.setState({ ...this.state, [name]: value });\r\n        console.log(this.state)\r\n\r\n    }\r\n    \r\n    //bio\r\n    //lista de instiuiçoes?\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"p-5\">\r\n                        <Form validated>\r\n                            <Form.Group controlId=\"formPhone\">\r\n                                <Form.Label>Telefone</Form.Label>\r\n                                <Form.Control name=\"phone\" placeholder=\"Introduz o telefone\"\r\n                                    onChange={this.onChange} value={this.state.phone} required/>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formAddr\">\r\n                                <Form.Label>Morada</Form.Label>\r\n                                <Form.Control name=\"addr1\" placeholder=\"Introduz a morada\"\r\n                                    onChange={this.onChange} value={this.state.addr} required/>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formAddr2\">\r\n                                <Form.Label>Morada Alternativa</Form.Label>\r\n                                <Form.Control name=\"addr2\" placeholder=\"Introduz uma morada alternativa\"\r\n                                    onChange={this.onChange} value={this.state.addr2} required/>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formCity\">\r\n                                <Form.Label>Cidade</Form.Label>\r\n                                <Form.Control name=\"city\" placeholder=\"Introduz a localidade\"\r\n                                    onChange={this.onChange} value={this.state.city} required/>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formZip\">\r\n                                <Form.Label>Código Postal</Form.Label>\r\n                                <Form.Control type=\"zipcode\" name=\"zip\" placeholder=\"Introduz o código postal\"\r\n                                    onChange={this.onChange} value={this.state.zip} required/>\r\n                            </Form.Group>\r\n                        </Form>\r\n\r\n                         <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleUpdate}>\r\n                        Atualizar\r\n                        </Button>\r\n                    </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UpdateInfo;","import React,{ Component } from 'react';\r\nimport { Row, Col, Image, Button } from 'react-bootstrap';\r\nimport { ServicePathsLabel,PathsLabel,Roles } from '../../Common/Utils/Paths.js';\r\nimport swal from 'sweetalert';\r\nclass Images extends Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            avatar:''  \r\n        }\r\n        this.handleChangeAvatar = this.handleChangeAvatar.bind(this);\r\n    }\r\n\r\n    handleChangeAvatar(e){\r\n        const avatarId = e.target.id;\r\n        var url = ServicePathsLabel.ApiProd + Roles.User + sessionStorage.getItem('id') \r\n        + PathsLabel.Avatar + \"?avatar=\" + avatarId + \"&tokenId=\" + sessionStorage.getItem('token'); \r\n        console.log(url)\r\n        \r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        }\r\n        //fazer o fetch com url da foto\r\n        fetch(url,requestOptions)\r\n        .then(data =>{\r\n            swal(\"Atualização feita com sucesso.\", \" \",\"success\")\r\n            .then(() => {\r\n                window.location.reload();\r\n            });\r\n        }).catch(\r\n                //arrow functions\r\n        );\r\n    }\r\n\r\n    //form check?\r\n    render(){\r\n        return(\r\n            <Row className=\"m-3 p-3\">\r\n                <Col>\r\n                    <Image src=\"https://storage.googleapis.com/thehelpinghand.appspot.com/avatars/avatar_0.png\" />\r\n                    <Button id=\"0\" variant=\"outline-primary\" className=\"mt-2\" size= \"sm\" onClick={this.handleChangeAvatar}>\r\n                        Escolher\r\n                    </Button>\r\n                </Col>\r\n                <Col >\r\n                    <Image src=\"https://storage.googleapis.com/thehelpinghand.appspot.com/avatars/avatar_1.png\" />\r\n                        <Button id=\"1\" variant=\"outline-primary\" className=\"mt-2\" size= \"sm\" onClick={this.handleChangeAvatar}>\r\n                        Escolher\r\n                    </Button>\r\n                </Col>\r\n                <Col>\r\n                    <Image src=\"https://storage.googleapis.com/thehelpinghand.appspot.com/avatars/avatar_2.png\" />\r\n                    <Button id=\"2\" variant=\"outline-primary\" className=\"mt-2\" size= \"sm\" onClick={this.handleChangeAvatar}>\r\n                        Escolher\r\n                    </Button>\r\n                </Col>\r\n                <Col>\r\n                    <Image src=\"https://storage.googleapis.com/thehelpinghand.appspot.com/avatars/avatar_3.png\" />\r\n                    <Button id=\"3\" variant=\"outline-primary\" className=\"mt-2\" size= \"sm\" onClick={this.handleChangeAvatar}>\r\n                        Escolher\r\n                    </Button>\r\n                </Col>\r\n                <Col>\r\n                    <Image src=\"https://storage.googleapis.com/thehelpinghand.appspot.com/avatars/avatar_4.png\" />\r\n                    <Button id=\"4\" variant=\"outline-primary\" className=\"mt-2\" size= \"sm\" onClick={this.handleChangeAvatar}>\r\n                        Escolher\r\n                    </Button>\r\n                </Col>\r\n\r\n                <Col>\r\n                    <Image src=\"https://storage.googleapis.com/thehelpinghand.appspot.com/avatars/avatar_5.png\" />\r\n                    <Button id=\"5\" variant=\"outline-primary\" className=\"mt-2\" size= \"sm\" onClick={this.handleChangeAvatar}>\r\n                        Escolher\r\n                    </Button>\r\n                </Col>\r\n                <Col>\r\n                    <Image src=\"https://storage.googleapis.com/thehelpinghand.appspot.com/avatars/avatar_6.png\" />\r\n                    <Button id=\"6\" variant=\"outline-primary\" className=\"mt-2\" size= \"sm\" onClick={this.handleChangeAvatar}>\r\n                        Escolher\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n        );\r\n    }\r\n}\r\nexport default Images;","import React,{ Component } from 'react';\r\nimport { Row, Col, Container,Button } from 'react-bootstrap';\r\nimport { ServicePathsLabel, PathsLabel } from '../../Common/Utils/Paths.js';\r\nimport swal from 'sweetalert';\r\nclass Helpers extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            helpers: []\r\n        }\r\n        this.handleChooseHelper = this.handleChooseHelper.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    async componentDidMount(){\r\n        var helpersAux = []\r\n        var urlHelpers = ServicePathsLabel.ApiProd + PathsLabel.Help \r\n        + \"/\" + this.props.cardId + PathsLabel.Helper + '?tokenId=' + sessionStorage.getItem('token');\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        \r\n        await fetch(urlHelpers,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                    var obj = data[i];\r\n                    var helper = {\r\n                        id: obj.id,\r\n                        email: obj.email,\r\n                        rating: obj.rating,\r\n                        reliability: parseFloat((obj.reliability*100)).toFixed(2) + \"%\"\r\n                        \r\n                    }\r\n                    helpersAux.push(helper);\r\n                }\r\n            });\r\n        this.setState({helpers:helpersAux});\r\n    }\r\n\r\n    onChange(e) {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        this.setState({ ...this.state, [name]: value });\r\n        console.log(this.state)\r\n\r\n    }\r\n\r\n    handleChooseHelper(e){\r\n        var helperId = e.target.id;\r\n        var url = ServicePathsLabel.ApiProd + PathsLabel.Help + \"/\" +\r\n        this.props.cardId +PathsLabel.Helper + \"?tokenId=\" + sessionStorage.getItem('token') +\r\n        '&helperId=' +helperId;\r\n        //pedido para escolher ajudante\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        fetch(url,requestOptions)\r\n        .then(response => {\r\n            if (response.ok) {\r\n                swal(\"Ajudante adicionado com sucesso\",\"\",\"success\");\r\n        //mais alguma coisa'\r\n            }else{\r\n                this.setState({error: response.statusText});\r\n                throw new Error(response.statusText);\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <Container>\r\n                <Row xs={1} md={2}>\r\n                    {this.state.helpers.map((helper,index) => {\r\n                        return(\r\n                            <Row>\r\n                                <div>\r\n                                    <Col>\r\n                                        <p><u>Nome:</u>{helper.id}</p>\r\n                                        <p><u>Rating:</u>{helper.rating}</p>\r\n                                        <p><u>Fiabilidade:</u>{helper.reliability}</p>\r\n                                    </Col>\r\n                                    <Col>                                    \r\n                                        <Button id={helper.id} variant=\"outline-primary\" size= \"sm\" onClick={this.handleChooseHelper}>\r\n                                            Escolher\r\n                                        </Button>\r\n                                    </Col>\r\n                                </div>\r\n                            </Row>                    \r\n                        )   \r\n                    })}\r\n               </Row>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\nexport default Helpers;","import React,{ Component } from 'react';\r\nimport { Row, Col, Container,Button } from 'react-bootstrap';\r\nimport { ServicePathsLabel, PathsLabel } from '../../Common/Utils/Paths.js';\r\n\r\nclass Participants extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.state= {\r\n            participants:[]\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var participantsAux=[];\r\n        var urlParticipants=ServicePathsLabel.ApiProd + PathsLabel.Event\r\n        + \"/\" + this.props.cardId + PathsLabel.ListPartic \r\n        +'?tokenId=' + sessionStorage.getItem('token');\r\n\r\n        console.log(urlParticipants)\r\n        const requestOptions={\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }  \r\n        }\r\n        \r\n        await fetch(urlParticipants,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                    var obj = data[i];\r\n                    var participant = {\r\n                        id:obj.id,\r\n                        creation:obj.creation,\r\n                        email:obj.email,\r\n                        status:obj.status.toString(),\r\n                        visibility:obj.visibility.toString()\r\n                    }\r\n                    participantsAux.push(participant);\r\n                }\r\n            });\r\n        this.setState({participants:participantsAux});\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <Container>\r\n                <Row xs={1} md={2}>\r\n                    {this.state.participants.map((participant,index) => {\r\n                        return(\r\n                            <Row>\r\n                                <div>\r\n                                    <Col>\r\n                                        <p><u>Nome:</u>{participant.id}</p>\r\n                                        <p><u>Email:</u>{participant.email}</p>\r\n                                        <p><u>Visibilidade:</u>{participant.visibility}</p>\r\n                                    </Col>\r\n                                </div>\r\n                            </Row>                    \r\n                        )   \r\n                    })}\r\n                </Row>\r\n            </Container>\r\n\r\n        )   \r\n    }\r\n}\r\nexport default Participants;\r\n    ","import React, { Component } from 'react';\r\nimport { Form, Table, Button } from 'react-bootstrap';\r\nimport { ServicePathsLabel,PathsLabel } from '../Paths';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport Geocode from \"react-geocode\";\r\nimport dateFormat from \"dateformat\";\r\nimport swal from 'sweetalert';\r\nimport \"./CreateEvent.css\";\r\n\r\n\r\n\r\nclass CreateEvent extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            name:'',\r\n            creator:'',\r\n            description:'',\r\n            startDate:new Date(),   \r\n            endDate:new Date(),\r\n            locationName:'',\r\n            locationLL:[]\r\n\r\n        }\r\n        this.onChange = this.onChange.bind(this); \r\n        this.handleEvent = this.handleEvent.bind(this);\r\n        this.handleStartDate = this.handleStartDate.bind(this);\r\n        this.handleEndDate = this.handleEndDate.bind(this);\r\n        //this.convertLocation = this.convertLocation.bind(this);   \r\n    }\r\n\r\n    onChange(e) {\r\n        const target = e.target;\r\n        console.log(target)\r\n        const value = target.value;\r\n        const name = target.name;\r\n        console.log(value)\r\n        this.setState({ ...this.state, [name]: value});\r\n        console.log(this.state)\r\n        e.preventDefault();\r\n    }\r\n\r\n    handleStartDate(date){\r\n        try{\r\n            var formatD =dateFormat(date,\"isoUtcDateTime\"); \r\n            this.setState({startDate: formatD}, () => \r\n            console.log(this.state.startDate))\r\n        } catch(error){\r\n            // ...\r\n        }\r\n           \r\n    }\r\n\r\n    handleEndDate(date){\r\n        console.log(date)\r\n         try {\r\n       var formatD =dateFormat(date,\"isoUtcDateTime\"); \r\n            this.setState({endDate: formatD}, () => \r\n            console.log(this.state.endDate))\r\n        } catch (error) {\r\n            // ...\r\n        }\r\n    }   \r\n    \r\n    handleEvent(e){\r\n        var locationTmp = [];\r\n        Geocode.setApiKey(\"AIzaSyDMR13Yod6yvWuy3UydPwCCVxI2FBLvshA\");\r\n        Geocode.setRegion(\"pt\");\r\n        Geocode.fromAddress(this.state.locationName).then(\r\n            (response) => {\r\n                const { lat, lng } = response.results[0].geometry.location;\r\n                locationTmp.push(lat);\r\n                locationTmp.push(lng);\r\n                console.log(locationTmp)\r\n                this.setState({locationLL: locationTmp});\r\n                var url = ServicePathsLabel.ApiProd + PathsLabel.Event + '?tokenId=' + sessionStorage.getItem('token');\r\n                let json: Event = {\r\n                    name : this.state.name,\r\n                    //creator : this.state.creator,\r\n                    description : this.state.description,\r\n                    start : this.state.startDate,\r\n                    end : this.state.endDate,\r\n                    location : locationTmp\r\n                }\r\n                const requestOptions = {\r\n                            method: 'POST',\r\n                            headers: { 'Content-Type': 'application/json' },\r\n                            body: JSON.stringify(json)\r\n                };\r\n                fetch(url, requestOptions)\r\n                .then(data => {\r\n                    //fazer if no swal para reload da pagina\r\n                    swal(\"Evento criado com sucesso.\", \" \",\"success\")\r\n                    .then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                    \r\n                }) \r\n                .catch(\r\n                    \r\n                );\r\n            },\r\n            (error) => {\r\n                console.error(error);\r\n            }\r\n            );\r\n        \r\n\r\n    }\r\n     \r\n    render(){\r\n        let d1 = new Date(this.state.startDate);\r\n        let d2 = new Date(this.state.endDate); \r\n        return(\r\n            <Form>\r\n                <Table size =\"lg\">\r\n                    <tr>\r\n                        <td>\r\n                            <Form.Group controlId=\"formName\">\r\n                                <Form.Label>Nome</Form.Label>\r\n                                <Form.Control type=\"name\" name=\"name\" placeholder=\"Introduza o nome do evento\"\r\n                                onChange={this.onChange} value={this.state.name} required />\r\n                            </Form.Group>\r\n\r\n                        </td>\r\n                        <td>\r\n                            <Form.Group controlId=\"formStartDate\" required>\r\n                                <Form.Label>Data de inicio</Form.Label>\r\n                                    <DateTimePicker\r\n                                        calendarType=\"ISO 8601\"\r\n                                        name=\"startDate\"\r\n                                        format=\"y-MM-dd h:mm:ss a\"\r\n                                        disableClock= {true}\r\n                                        onChange={this.handleStartDate}\r\n                                        value={d1}\r\n                                    />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formEndDate\">\r\n                                <Form.Label>Data de Fim</Form.Label>\r\n                                    <DateTimePicker\r\n                                        calendarType=\"ISO 8601\"\r\n                                        name=\"endDate\"\r\n                                        format=\"y-MM-dd h:mm:ss a\"\r\n                                        disableClock= {true}\r\n                                        onChange={this.handleEndDate}\r\n                                        value={d2}\r\n                                        \r\n                                    />\r\n                            </Form.Group>\r\n                        </td>\r\n                        <td>\r\n                        <Form.Group controlId=\"formDescription\">\r\n                                <Form.Label>Descrição</Form.Label>\r\n                                <Form.Control type=\"text\" name=\"description\"\r\n                                    placeholder=\"Introduza a descrição do evento\"\r\n                                    onChange={this.onChange} value={this.state.description} required />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formLocation\">\r\n                                <Form.Label>Localização</Form.Label>\r\n                                <Form.Control type=\"text\" name=\"locationName\" placeholder=\"Introduza a localização\"\r\n                                    onChange={this.onChange} value={this.state.locationName} required />\r\n                            </Form.Group>\r\n                        </td>\r\n                    </tr>\r\n                </Table>       \r\n                <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleEvent}>\r\n                    Criar\r\n                </Button>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateEvent;\r\n\r\n/*\r\n\r\n\r\n*/\r\n","import React, { Component } from 'react';\r\nimport { Form,Table, Button } from 'react-bootstrap';\r\nimport { ServicePathsLabel,PathsLabel } from '../Paths.js';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport dateFormat from \"dateformat\";\r\nimport Geocode from \"react-geocode\";\r\nimport swal from 'sweetalert';\r\n\r\n//o is Permanent e uma checkbox!\r\nclass CreateHelp extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            name:'',\r\n            description:'',\r\n            dateH:new Date(),\r\n            locationName:'',\r\n            locationLL:[]\r\n        }\r\n        this.onChange = this.onChange.bind(this);\r\n        this.handleHelp = this.handleHelp.bind(this);\r\n        //this.convertLocation = this.convertLocation.bind(this);\r\n        this.handleDate = this.handleDate.bind(this);\r\n    }\r\n    \r\n\r\n    onChange(e) {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        console.log(value)\r\n        this.setState({ ...this.state, [name]: value});\r\n        console.log(this.state)\r\n        e.preventDefault();\r\n    }\r\n    \r\n    handleDate(date){\r\n        console.log(date)\r\n         try {\r\n            var formatD =dateFormat(date,\"isoUtcDateTime\"); \r\n            this.setState({dateH: formatD}, () => \r\n            console.log(this.state.dateH))\r\n        \r\n\r\n\r\n        } catch (error) {\r\n            // ...\r\n        }\r\n    }  \r\n\r\n    handleHelp(e){\r\n        var locationTmp = [];\r\n        Geocode.setApiKey(\"AIzaSyDMR13Yod6yvWuy3UydPwCCVxI2FBLvshA\");\r\n        Geocode.setRegion(\"pt\");\r\n        Geocode.fromAddress(this.state.locationName).then(\r\n            (response) => {\r\n                const { lat, lng } = response.results[0].geometry.location;\r\n                locationTmp.push(lat);\r\n                locationTmp.push(lng);\r\n                console.log(locationTmp)\r\n                this.setState({locationLL: locationTmp});\r\n                var url = ServicePathsLabel.ApiProd + PathsLabel.Help + '?tokenId=' + sessionStorage.getItem('token');\r\n                let json: Help = {\r\n                    name: this.state.name,\r\n                    //creator: sessionStorage.getItem('id'),\r\n                    description: this.state.description,\r\n                    time: this.state.dateH,\r\n                    location: locationTmp\r\n                }\r\n                const requestOptions = {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(json)\r\n                };\r\n                fetch(url, requestOptions)\r\n                .then(data => {\r\n                    //fazer if no swal para reload da pagina\r\n                    swal(\"Ajuda criada com sucesso.\", \" \",\"success\")\r\n                    .then(() => {\r\n                        window.location.reload();\r\n                    });\r\n                    \r\n                })\r\n                .catch(\r\n                    \r\n                );\r\n            },\r\n            (error) => {\r\n                console.error(error);\r\n            }\r\n            ); \r\n        \r\n\r\n    }\r\n    //funcoes e pedido\r\n    //e um POST\r\n\r\n    //POR DATA\r\n    render(){\r\n        let d = new Date(this.state.dateH);\r\n        return( \r\n            <Form>\r\n                <Table size =\"sm\">\r\n                    <tr>\r\n                        <td>\r\n                        <Form.Group controlId=\"formName\">\r\n                            <Form.Label>Nome</Form.Label>\r\n                            <Form.Control type=\"name\" name=\"name\" placeholder=\"Introduza o nome do evento\"\r\n                                onChange={this.onChange} value={this.state.name} required />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formDescription\">\r\n                            <Form.Label>Descrição</Form.Label>\r\n                            <Form.Control type=\"description\" name=\"description\"\r\n                                placeholder=\"Introduza a descrição do evento\"\r\n                                onChange={this.onChange} value={this.state.description} required />\r\n                        </Form.Group>\r\n                        </td>\r\n                        <td>\r\n                        <Form.Group controlId=\"formDate\">\r\n                            <Form.Label>Data de Pedido</Form.Label>\r\n                                <DateTimePicker\r\n                                    calendarType=\"ISO 8601\"\r\n                                    name=\"dateH\"\r\n                                    format=\"y-MM-dd h:mm:ss a\"\r\n                                    disableClock= {true}\r\n                                    onChange={this.handleDate}\r\n                                    value={d}\r\n                                />\r\n                        </Form.Group>\r\n                        </td>\r\n                        <td>\r\n                        <Form.Group controlId=\"formLocation\">\r\n                        <Form.Label>Localização</Form.Label>\r\n                        <Form.Control type=\"location\" name=\"locationName\" placeholder=\"Introduza a localização\"\r\n                            onChange={this.onChange} value={this.state.locationName} required />\r\n                        </Form.Group>\r\n                        </td>\r\n                    </tr>\r\n                </Table>\r\n\r\n                <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleHelp}>\r\n                    Criar\r\n                </Button>\r\n            </Form>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default CreateHelp;","import React,{ Component } from 'react';\r\n import ReactDOM from 'react-dom';\r\nimport { InfoWindow } from 'google-maps-react';\r\n\r\n//para usar botao no infowindow!!!\r\nclass InfoWindowPopUp extends Component{\r\n    constructor(props) {\r\n    super(props);\r\n    this.infoWindowRef = React.createRef();\r\n    this.contentElement = document.createElement(`div`);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.children !== prevProps.children) {\r\n      ReactDOM.render(\r\n        React.Children.only(this.props.children),\r\n        this.contentElement\r\n      );\r\n      this.infoWindowRef.current.infowindow.setContent(this.contentElement);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <InfoWindow ref={this.infoWindowRef} {...this.props} />;\r\n  }\r\n}\r\n\r\nexport default InfoWindowPopUp;","import React, { Component } from 'react';\r\nimport { Map , Marker,  GoogleApiWrapper } from 'google-maps-react';\r\nimport { Table, Button, Row, Col } from 'react-bootstrap';\r\nimport { ServicePathsLabel,PathsLabel } from './Paths.js';\r\nimport Popup from 'reactjs-popup';\r\nimport dateFormat from 'dateformat';\r\nimport swal from 'sweetalert';\r\nimport CreateEvent from './Popups/CreateEvent';\r\nimport CreateHelp from './Popups/CreateHelp.js';\r\nimport InfoWindowEx from './Popups/InfoWindowPopUp.js';\r\nimport legenda from '../../../legenda.png';\r\n\r\n//por KEY\r\nconst mapStyles = {\r\n    position: 'relative',  \r\n    width: '100%',\r\n    height: '91%'\r\n};\r\n\r\nclass Maps extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            submit: false,\r\n            showingInfoWindow: false,\r\n            activeMarker: {},\r\n            load: false,\r\n            initialCenter: [{\r\n                position: {\r\n                    //mudar isto\r\n                    lat: 38.770116,\r\n                    lng: -9.156341\r\n                }\r\n            }],\r\n            markers: [],\r\n            selectedPlace: {},\r\n            distance: 0,\r\n            existsMarkers: false\r\n        }\r\n        this.handleOfferHelp = this.handleOfferHelp.bind(this);\r\n        this.handleJoinEvent = this.handleJoinEvent.bind(this);\r\n        this.changeCenter = this.changeCenter.bind(this);\r\n    }\r\n    async componentWillMount(){\r\n        if(sessionStorage.getItem('lat') !== null && sessionStorage.getItem('lng') !== null){\r\n            await this.changeCenter();\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        var urlHelp=ServicePathsLabel.ApiProd + PathsLabel.Help + '?tokenId=' + sessionStorage.getItem('token');\r\n        var urlEvent=ServicePathsLabel.ApiProd + PathsLabel.Event + '?tokenId=' + sessionStorage.getItem('token');\r\n        var markersAux = [];\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        //chamar as apis do getEvents e getHelps\r\n        //url do getHelp: url + ServicePathLabels.Help + token\r\n        //fazer pedido de get\r\n        //MUDAR\r\n       \r\n        await fetch(urlHelp,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                    var obj = data[i];\r\n                    //addMarkers\r\n                    var marker = {\r\n                        creator:obj.creator,\r\n                        description:obj.description,\r\n                        location: {\r\n                            lat: obj.location[0],\r\n                            lng: obj.location[1]\r\n                        },\r\n                        name:obj.name,\r\n                        time:obj.time,\r\n                        isEvent: false,\r\n                        id:obj.id\r\n                    }\r\n                    markersAux.push(marker);\r\n                    \r\n                }\r\n                               \r\n                \r\n            });\r\n\r\n        //url do getEvent: url + ServicePathLabels.Event + token\r\n        //fazer pedido de get\r\n        //MUDAR\r\n        await fetch(urlEvent,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                var obj = data[i];\r\n                //addMarkers e usar start e end\r\n                var marker = {\r\n                        creator:obj.creator,\r\n                        description:obj.description,\r\n                        location: {\r\n                            lat: obj.location[0],\r\n                            lng: obj.location[1]\r\n                        },\r\n                        name:obj.name,\r\n                        start:obj.start,\r\n                        end:obj.end,\r\n                        isEvent: true,\r\n                        id:obj.id\r\n                    }\r\n                    markersAux.push(marker);\r\n                }\r\n                \r\n            });\r\n             \r\n        this.setState({markers: markersAux});\r\n    }\r\n\r\n    handleOfferHelp(e){\r\n        var url = ServicePathsLabel.ApiProd + PathsLabel.Help + '/' + this.state.selectedPlace.id\r\n         + PathsLabel.offerHelp + '?tokenId=' + sessionStorage.getItem('token');\r\n        let json: Offer = {\r\n            name : sessionStorage.getItem('id')\r\n        }\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(json)\r\n        }\r\n        fetch(url, requestOptions)\r\n        .then(data => {\r\n            //fazer if no swal para reload da pagina\r\n            swal(\"Sucesso\", \"Tens de esperar que a pessoa aceite a tua ajuda.\",\"success\")\r\n        }) \r\n        .catch(\r\n            \r\n        );\r\n    }\r\n\r\n    handleJoinEvent(e){        \r\n        var url = ServicePathsLabel.ApiProd + PathsLabel.Event + '/' + this.state.selectedPlace.id\r\n         + PathsLabel.joinEvent + '?tokenId=' + sessionStorage.getItem('token');\r\n        let json: Offer = {\r\n            name : sessionStorage.getItem('id')\r\n        }\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(json)\r\n        }\r\n        fetch(url, requestOptions)\r\n        .then(data => {\r\n            //fazer if no swal para reload da pagina\r\n            swal(\"Sucesso.\", \" \",\"success\")         \r\n        }) \r\n        .catch(\r\n            \r\n        );\r\n    }\r\n\r\n    onMarkerClick = (props, marker, e) =>\r\n      this.setState({\r\n        selectedPlace: props,\r\n        activeMarker: marker,\r\n        showingInfoWindow: true\r\n    });\r\n\r\n    changeCenter(e) {\r\n        const lat = parseFloat(sessionStorage.getItem('lat'));\r\n        const lng = parseFloat(sessionStorage.getItem('lng'));\r\n        this.setState({\r\n            initialCenter: [\r\n                {\r\n                    position: { lat, lng }\r\n                }\r\n            ]\r\n        });\r\n        sessionStorage.removeItem('lat');\r\n        sessionStorage.removeItem('lng');\r\n    }\r\n\r\n   \r\n\r\n    render() {\r\n        console.log(this.state.markers)\r\n        return (\r\n            <Table size=\"sm\">\r\n                <Row>\r\n                    <Col sm={2}>\r\n                    <Popup trigger={\r\n                        <Button variant=\"outline-primary\" className=\"mt-2\" size=\"sm\">\r\n                            Criar Pedido de Ajuda\r\n                        </Button>} \r\n                        position=\"right top\"\r\n                        modal\r\n                        nested\r\n                        >\r\n                        <CreateHelp />\r\n                    </Popup>\r\n                    </Col>\r\n                    <Col sm>\r\n                    <Popup trigger={\r\n                        <Button variant=\"outline-primary\" className=\"mt-2\" size=\"sm\">\r\n                            Criar Evento\r\n                        </Button>} \r\n                        position=\"right top\"\r\n                        modal\r\n                        nested\r\n                        >\r\n                        <CreateEvent />\r\n                    </Popup>\r\n                    </Col>\r\n                </Row>\r\n            \r\n                <Map\r\n                google={this.props.google}\r\n                zoom={14}\r\n                style={mapStyles}\r\n                initialCenter={{\r\n                    lat: this.state.initialCenter[0].position.lat,\r\n                    lng: this.state.initialCenter[0].position.lng\r\n                }}\r\n                \r\n                > \r\n                   \r\n                    {this.state.markers.map((marker,index) => {\r\n                        var url = 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png';\r\n                        if(!marker.isEvent)\r\n                            url = 'http://maps.google.com/mapfiles/ms/icons/red-dot.png';\r\n                        return( \r\n                            <Marker\r\n                                name={marker.name}\r\n                                creator={marker.creator}\r\n                                description={marker.description}\r\n                                position={marker.location}\r\n                                time={marker.time}\r\n                                start={marker.start}\r\n                                end={marker.end}\r\n                                isEvent={marker.isEvent}\r\n                                id={marker.id}\r\n                                icon={{\r\n                                    url: url\r\n                                }}\r\n                                onClick={this.onMarkerClick}\r\n                                \r\n                            />\r\n                        );\r\n                    })}\r\n                   \r\n\r\n                   \r\n                    {/*como verificar o if aqui \r\n                    um onclick*/}\r\n                    <InfoWindowEx\r\n                    marker={this.state.activeMarker}\r\n                    onClose={this.onInfoWindowClose}\r\n                    visible={this.state.showingInfoWindow}>\r\n                        <div>\r\n                            <h5>{\"Título: \"+ this.state.selectedPlace.name}</h5>\r\n                            <p>{\"Criado por: \" + this.state.selectedPlace.creator}</p>\r\n                            <p>{\"Descrição: \" + this.state.selectedPlace.description}</p> \r\n                            { this.state.activeMarker.isEvent &&\r\n                                <div>\r\n                                    <p>{\"Data de inicio: \" + dateFormat(this.state.selectedPlace.start,\"default\")}</p>\r\n                                    <p>{\"Data de fim: \" + dateFormat(this.state.selectedPlace.end,\"default\")}</p>\r\n                                     <Button size=\"sm\" variant=\"link\" onClick={this.handleJoinEvent}>\r\n                                        Quero juntar-me a este evento.\r\n                                    </Button>\r\n                                </div>\r\n                                \r\n                                \r\n                            }\r\n                            { !this.state.activeMarker.isEvent &&\r\n                                <div>\r\n                                    <p>{\"Data: \" + dateFormat(this.state.selectedPlace.time,\"default\")}</p>\r\n                                    <Button  size=\"sm\" variant=\"link\" onClick={this.handleOfferHelp}>\r\n                                        Quero ajudar esta pessoa.\r\n                                    </Button>\r\n                                </div>\r\n                                   \r\n                                \r\n                            }              \r\n                        </div>\r\n                    </InfoWindowEx>\r\n                    \r\n                </Map>\r\n                <div>\r\n                    <img\r\n                    src={legenda}\r\n                    alt=\"\"\r\n                    style={{\r\n                        position:'absolute',\r\n                        left:'0px',\r\n                        bottom:'0px'\r\n                    }} />     \r\n                </div>\r\n            </Table>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: 'AIzaSyCC3ZNGxhR49xDMOqDB7DT5nUi0qvcPfQo'\r\n})(Maps);\r\n\r\n\r\n","export default \"data:image/png;base64,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\"","//imports\r\nimport React,{ Component } from 'react';\r\nimport { Form, Card, Col, Row, Button, Container, Image, Tab, Tabs } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { ServicePathsLabel,PathsLabel } from '../Common/Utils/Paths.js';\r\nimport dateFormat from 'dateformat';\r\nimport Popup from 'reactjs-popup';\r\nimport swal from 'sweetalert';\r\nimport Swal from 'sweetalert2';\r\nimport Images from './Popups/Images.js';\r\nimport Helpers from './Popups/Helpers.js';\r\nimport Participants from './Popups/Participants.js';\r\nimport Maps from '../Common/Utils/Maps.js';\r\n\r\nclass Profile extends Component{\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            username:'',\r\n            name:'',\r\n            bio:'',\r\n            email:'',\r\n            dataCreation:'',\r\n            visibility:true,\r\n            avatarUrl:'',\r\n            initials:'',\r\n            categories:[],\r\n            phone:'',\r\n            addr1:'',\r\n            addr2:'',\r\n            rating:'',\r\n            reliability:'',\r\n            city:'',\r\n            zip:'',\r\n            cards:[],\r\n            mine:[]\r\n        }\r\n        this.onChange = this.onChange.bind(this);\r\n        this.handleFinishHelp = this.handleFinishHelp.bind(this);\r\n        this.handleFinishEvent = this.handleFinishEvent.bind(this);\r\n        this.handleCancelHelp = this.handleCancelHelp.bind(this);\r\n        this.handleCancelEvent = this.handleCancelEvent.bind(this);\r\n        this.handleShowOnMap = this.handleShowOnMap.bind(this);\r\n    }\r\n\r\n    onChange(e) {\r\n    const target = e.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n    this.setState({ ...this.state, [name]: value });\r\n    console.log(this.state)\r\n    }\r\n\r\n    //ir buscar os eventos/ajudas do user e profile\r\n    async componentDidMount(){\r\n        //urls\r\n        var urlAcc =  ServicePathsLabel.ApiProd + ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id') + PathsLabel.Account + '?tokenId=' + sessionStorage.getItem('token');\r\n        var urlInfo = ServicePathsLabel.ApiProd + ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id') + PathsLabel.UpdateInfo + '?tokenId=' + sessionStorage.getItem('token');\r\n        var urlStats = ServicePathsLabel.ApiProd + ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id') + PathsLabel.Stats + \"?tokenId=\" + sessionStorage.getItem('token');\r\n        var urlHelp = ServicePathsLabel.ApiProd  + ServicePathsLabel.User +\"/\" + sessionStorage.getItem('id') + \"/\" + PathsLabel.Help + '?tokenId=' + sessionStorage.getItem('token'); \r\n        var urlEvent = ServicePathsLabel.ApiProd  + ServicePathsLabel.User +\"/\" + sessionStorage.getItem('id') + \"/events\" + '?tokenId=' + sessionStorage.getItem('token');\r\n        var urlHelpSub =  ServicePathsLabel.ApiProd  + ServicePathsLabel.User +\"/\" + sessionStorage.getItem('id') + PathsLabel.Helping + '?tokenId=' + sessionStorage.getItem('token');\r\n        var urlEventSub =  ServicePathsLabel.ApiProd  + ServicePathsLabel.User +\"/\" + sessionStorage.getItem('id') + PathsLabel.Participating  + '?tokenId=' + sessionStorage.getItem('token');\r\n        var urlProfileUser = ServicePathsLabel.ApiProd + ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id') + PathsLabel.Profile +'?tokenId=' + sessionStorage.getItem('token');\r\n        var urlProfileInst = ServicePathsLabel.ApiProd + ServicePathsLabel.Institution + \"/\" + sessionStorage.getItem('id') + PathsLabel.Profile +'?tokenId=' + sessionStorage.getItem('token');\r\n        var cardsAux=[];\r\n        var mineAux=[];\r\n        //fazer requestsOptions    \r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        \r\n        //fazer fetch\r\n        \r\n        await fetch(urlInfo,requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => this.setState({\r\n            phone: data.phone,\r\n            addr1: data.address1,\r\n            addr2: data.address2,\r\n            zip: data.zipcode,\r\n            city: data.city\r\n        })).catch(\r\n            //arrow functions\r\n        );\r\n    \r\n        await fetch(urlAcc,requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => this.setState({\r\n            email: data.email,\r\n            id: data.id,\r\n            dataCreation: dateFormat(data.creation,\"dd/mm/yyyy\"),\r\n            status: data.status,\r\n            visibility: data.visibility\r\n        })).catch(\r\n            //arrow functions\r\n        );\r\n\r\n         if(sessionStorage.getItem('role') !== \"INSTITUTION\"){\r\n            await fetch(urlProfileUser,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                name: data.name,\r\n                bio: data.bio,\r\n                visibility: data.visibility,\r\n                avatarUrl: data.avatar\r\n            })).catch(\r\n                //arrow functions<\r\n            );\r\n\r\n            await fetch(urlStats,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                rating: data.rating,\r\n                reliability: data.reliability\r\n            })).catch(\r\n                //arrow functions<\r\n            );\r\n            this.multReliab();\r\n\r\n            await fetch(urlHelpSub,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                    var obj = data[i];\r\n                    //addCards por a localizacao?\r\n                    var card = {\r\n                        creator:obj.creator,\r\n                        description:obj.description,\r\n                        name:obj.name,\r\n                       location: {\r\n                            lat: obj.location[0],\r\n                            lng: obj.location[1]\r\n                        },\r\n                        time:obj.time,\r\n                        isEvent: false,\r\n                        id:obj.id\r\n                    }\r\n                    mineAux.push(card);\r\n                }\r\n            });\r\n\r\n             await fetch(urlEventSub,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                var obj = data[i];\r\n                //addCard e usar start e end OK - e por location?\r\n                var card = {\r\n                        creator:obj.creator,\r\n                        description:obj.description,\r\n                        name:obj.name,\r\n                        location: {\r\n                            lat: obj.location[0],\r\n                            lng: obj.location[1]\r\n                        },\r\n                        start:obj.start,\r\n                        end:obj.end,\r\n                        isEvent: true,\r\n                        id:obj.id\r\n                    }\r\n                    mineAux.push(card);\r\n                }   \r\n            });\r\n\r\n        }\r\n\r\n        //receber variaveis extra\r\n        if(sessionStorage.getItem('role') === \"INSTITUTION\"){\r\n            await fetch(urlProfileInst,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                name: data.name,\r\n                bio: data.bio,\r\n                visibility: data.visibility,\r\n                avatarUrl: data.avatar,\r\n                initials: data.initials,\r\n                categories: data.categories\r\n            })).catch(\r\n                //arrow functions<\r\n            );\r\n        }\r\n       \r\n        \r\n        await fetch(urlHelp,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                    var obj = data[i];\r\n                    //addCards por a localizacao?\r\n                    var card = {\r\n                        creator:obj.creator,\r\n                        description:obj.description,\r\n                        name:obj.name,\r\n                       location: {\r\n                            lat: obj.location[0],\r\n                            lng: obj.location[1]\r\n                        },\r\n                        time:obj.time,\r\n                        isEvent: false,\r\n                        id:obj.id\r\n                    }\r\n                    cardsAux.push(card);\r\n                }\r\n            });\r\n\r\n        \r\n        await fetch(urlEvent,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                var obj = data[i];\r\n                //addCard e usar start e end OK - e por location?\r\n                var card = {\r\n                        creator:obj.creator,\r\n                        description:obj.description,\r\n                        name:obj.name,\r\n                        location: {\r\n                            lat: obj.location[0],\r\n                            lng: obj.location[1]\r\n                        },\r\n                        start:obj.start,\r\n                        end:obj.end,\r\n                        isEvent: true,\r\n                        id:obj.id\r\n                    }\r\n                    cardsAux.push(card);\r\n                }   \r\n            });\r\n\r\n           \r\n        //processo igual ao mapas para guardar numa lista\r\n        this.setState({ cards:cardsAux });\r\n        this.setState({ mine:mineAux });\r\n    } \r\n\r\n    handleFinishEvent(e){\r\n        //url\r\n        const cardId = e.target.id;\r\n        var url=ServicePathsLabel.ApiProd + PathsLabel.Event + \"/\" + cardId + PathsLabel.End + \"?tokenId=\" + sessionStorage.getItem('token');\r\n        //requestoptions\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        //fetch\r\n        fetch(url,requestOptions) \r\n        .then(response => {\r\n            if (response.ok) {\r\n                swal(\"O evento foi concluído com sucesso\",\"\",\"success\");\r\n            }else{\r\n                this.setState({error: response.statusText});\r\n                throw new Error(response.statusText);\r\n            }\r\n        })\r\n    }\r\n\r\n    handleCancelEvent(e){\r\n        const cardId = e.target.id;\r\n        var url=ServicePathsLabel.ApiProd + PathsLabel.Event + \"/\" + cardId + '?tokenId=' + sessionStorage.getItem('token');\r\n        //requestoptions\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        }                     \r\n        swal({\r\n            title: \"Tem a certeza que quer cancelar o evento?\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n        .then((willDelete) => {\r\n            if (willDelete) {\r\n                swal(\"O evento foi cancelado com sucesso\", {\r\n                icon: \"success\",\r\n                });\r\n                fetch(url,requestOptions)\r\n                .then(response => {\r\n                    if(!response.ok)\r\n                        throw new Error(response.statusText);\r\n                    window.location.reload();\r\n                })\r\n                .catch(error =>{\r\n\r\n                })    \r\n            } \r\n        });\r\n    }\r\n\r\n    handleLeaveEvent(e){\r\n        const cardId = e.target.id;\r\n        var url = ServicePathsLabel.ApiProd + PathsLabel.Event + \"/\" + cardId + PathsLabel.Leave +'?tokenId=' + sessionStorage.getItem('token');\r\n        //rest/event/cardId/leave/tokenId\r\n        console.log(url)\r\n        \r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        }                     \r\n        swal({\r\n            title: \"Tem a certeza que quer deixar o evento?\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n        .then((willDelete) => {\r\n            if (willDelete) {\r\n                swal(\"Deixaste o evento com sucesso\", {\r\n                icon: \"success\",\r\n                });\r\n                fetch(url,requestOptions)\r\n                .then(response => {\r\n                    if(!response.ok)\r\n                        throw new Error(response.statusText);\r\n                    window.location.reload();\r\n                })\r\n                .catch(error =>{\r\n\r\n                })    \r\n            } \r\n        });\r\n        \r\n    }\r\n\r\n    handleFinishHelp(e){\r\n        const cardId = e.target.id;\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }\r\n        Swal.fire({\r\n            title: 'Como avalias a ajuda que recebeste?',\r\n            icon: 'question',\r\n            input: 'range',\r\n            inputAttributes: {\r\n                min: 1,\r\n                max: 5,\r\n                step: 1\r\n            },\r\n            inputValue: 3\r\n            }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                const rating = Swal.getInput().value;\r\n                var url = ServicePathsLabel.ApiProd + PathsLabel.Help + \"/\" \r\n                + cardId + PathsLabel.Finish + '?tokenId=' + sessionStorage.getItem('token') + '&rating=' + rating;\r\n                fetch(url,requestOptions)\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        swal(\"Ajuda concluída com sucesso\",\"\",\"success\");\r\n                //mais alguma coisa'\r\n                    }else{\r\n                        this.setState({error: response.statusText});\r\n                        throw new Error(response.statusText);\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }     \r\n\r\n    handleCancelHelp(e){\r\n        //url\r\n        const cardId = e.target.id;\r\n        var url=ServicePathsLabel.ApiProd + PathsLabel.Help + \"/\" + cardId + '?tokenId=' + sessionStorage.getItem('token');;\r\n        //requestoptions\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n            headers: { 'Content-Type': 'application/json'}   \r\n        };                     \r\n        swal({\r\n            title: \"Tem a certeza que quer cancelar a ajuda?\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n        .then((willDelete) => {\r\n            if (willDelete) {\r\n                swal(\"A ajuda foi cancelada com sucesso\", {\r\n                icon: \"success\",\r\n                });\r\n                fetch(url,requestOptions)\r\n                .then(response => {\r\n                    if(!response.ok)\r\n                        throw new Error(response.statusText);\r\n                })\r\n                .catch(error =>{\r\n                })    \r\n            } \r\n        });\r\n    }\r\n\r\n    handleLeaveHelp(e){\r\n        const cardId = e.target.id;\r\n        var url = ServicePathsLabel.ApiProd + PathsLabel.Help + \"/\" + cardId + PathsLabel.Leave +'?tokenId=' + sessionStorage.getItem('token');\r\n        console.log(url)\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        }                     \r\n        swal({\r\n            title: \"Tem a certeza que quer deixar a ajuda?\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n        .then((willDelete) => {\r\n            if (willDelete) {\r\n                swal(\"Deixaste a ajuda com sucesso\", {\r\n                icon: \"success\",\r\n                });\r\n                fetch(url,requestOptions)\r\n                .then(response => {\r\n                    if(!response.ok)\r\n                        throw new Error(response.statusText);\r\n                    window.location.reload();\r\n                })\r\n                .catch(error =>{\r\n\r\n                })    \r\n            } \r\n        });\r\n    }\r\n\r\n    handleShowOnMap(e,value1,value2){\r\n        var locationLat = value1;\r\n        var locationLng = value2;\r\n        sessionStorage.setItem('lat',locationLat);\r\n        sessionStorage.setItem('lng',locationLng);\r\n        //linkar para o mapa\r\n    }\r\n\r\n    multReliab(){\r\n        var finalR= parseFloat((this.state.reliability*100)).toFixed(2) + \"%\";\r\n        this.setState({reliability:finalR});\r\n    }\r\n    //ver layout no paint\r\n    //tabela com 2 rows\r\n    //1º row - imagem e def.\r\n    //2ºrow - 2 tabs(info de conta-ajuda/evento criado)\r\n    //fazer form com readonly\r\n    //por rating no profile!!!\r\n    render(){\r\n        var isUser = false;\r\n        if(sessionStorage.getItem(\"role\") === \"USER\"){\r\n            isUser = true;\r\n        }        \r\n        return(\r\n            <Form>\r\n                <Container>\r\n                    <Row>{/*//Everything*/}\r\n                        <Col lg={4}>{/*//main col1*/}\r\n                        {/*//avatar + nome\r\n                        */}\r\n                            <Row  className=\"p-5 mx-auto\">\r\n                                {/**\r\n                                mudar foto:\r\n                                abrir popup que mostra as varias fotos\r\n                                escolher uma e mudar\r\n                                 */}\r\n                                <div >\r\n\r\n                                     <Image className=\"m-4\" style={{border: \"solid\" ,color: \"CornflowerBlue\" }}\r\n                                      src={this.state.avatarUrl} />\r\n                                    {/**botao para mudar a imagem -> vai ser popup */}\r\n                                    <Popup trigger={\r\n                                        <Button variant=\"link\">Alterar imagem de perfil\r\n                                        </Button>\r\n                                    }\r\n                                    position=\"right top\"\r\n                                    modal\r\n                                    >\r\n                                        <Images />\r\n                                    </Popup>\r\n                                    <Link className=\"m-4\" to=\"/profilesettings\">Definições de Conta</Link>\r\n                                </div> \r\n                            </Row>\r\n                            <Row className=\"p-0\">\r\n                            </Row>\r\n                        </Col>\r\n                        <Col lg={8}>{/*/main col2*/}\r\n                            <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\" className=\"mb-3\">\r\n                                <Tab eventKey=\"profile\" title=\"Perfil\">\r\n                                    <Row>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formName\">\r\n                                                <Form.Label ><u>Nome</u></Form.Label>\r\n                                                <Form.Control readOnly defaultValue={this.state.name} />\r\n                                            </Form.Group>\r\n                                            {\r\n                                                this.state.visibility &&\r\n\r\n                                                <Form.Group controlId=\"formVisibility\">\r\n                                                    <Form.Label ><u>Visibilidade</u></Form.Label>\r\n                                                    <Form.Control readOnly defaultValue={\"Público\"} />\r\n                                                </Form.Group>\r\n                                            }\r\n                                            {\r\n                                                !this.state.visibility &&\r\n\r\n                                                <Form.Group controlId=\"formVisibility\">\r\n                                                    <Form.Label ><u>Visibilidade</u></Form.Label>\r\n                                                    <Form.Control readOnly defaultValue={\"Privado\"} />\r\n                                                </Form.Group>\r\n                                            }\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formBio\">\r\n                                                <Form.Label ><u>Bio</u></Form.Label>\r\n                                                <Form.Control as=\"textarea\" rows={4}  readOnly defaultValue={this.state.bio} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                    </Row> \r\n                                    {\r\n                                        isUser &&\r\n\r\n                                        <Row>\r\n                                            <Col>\r\n                                                <Form.Group controlId=\"formRating\">\r\n                                                    <Form.Label ><u>Classificação</u></Form.Label>\r\n                                                    <Form.Control readOnly defaultValue={this.state.rating} />\r\n                                                </Form.Group>\r\n                                            </Col>\r\n                                            <Col>\r\n                                                <Form.Group controlId=\"formReliability\">\r\n                                                    <Form.Label ><u>Fiabilidade</u></Form.Label>\r\n                                                    <Form.Control readOnly defaultValue={this.state.reliability} />\r\n                                                </Form.Group>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                    }\r\n                                </Tab>\r\n                                <Tab eventKey=\"info\" title=\"Info de conta\">\r\n                                    <Row>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formUsername\">\r\n                                                <Form.Label ><u>Username</u></Form.Label>\r\n                                                <Form.Control readOnly defaultValue={sessionStorage.getItem('id')} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formPhone\">\r\n                                                <Form.Label ><u>Telefone</u></Form.Label>\r\n                                                <Form.Control readOnly defaultValue={this.state.phone} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formEmail\">\r\n                                                <Form.Label ><u>Email</u></Form.Label>\r\n                                                <Form.Control readOnly defaultValue={this.state.email} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formDataCreation\">\r\n                                                <Form.Label ><u>Data de Criação</u></Form.Label>\r\n                                                <Form.Control readOnly defaultValue={this.state.dataCreation} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <Row>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formCity\">\r\n                                                <Form.Label ><u>Cidade</u></Form.Label>\r\n                                                <Form.Control readOnly defaultValue={this.state.city} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formAddr1\">\r\n                                                <Form.Label ><u>Morada</u></Form.Label>\r\n                                                <Form.Control readOnly defaultValue={this.state.addr1} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formAddr2\">\r\n                                                <Form.Label ><u>Morada alternativa</u></Form.Label>\r\n                                                <Form.Control readOnly defaultValue={this.state.addr2} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n\r\n                                        <Col>\r\n                                            <Form.Group controlId=\"formZip\">\r\n                                                    <Form.Label ><u>Código Postal</u></Form.Label>\r\n                                                    <Form.Control readOnly defaultValue={this.state.zip} />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Tab>\r\n                                <Tab eventKey=\"gets\" title=\"Ajudas/Eventos criados\">\r\n                                    <Row xs={1} md={2}>\r\n                                            {this.state.cards.map((card,index) => {\r\n                                                if(!card.isEvent){  \r\n                                                    return( \r\n                                                    <Col>\r\n                                                    <Card border=\"danger\" style={{ width: '21rem' , height:'10rem' , margin:'1rem'}}>\r\n                                                        <Card.Body>\r\n                                                        <Card.Title><b>{card.name}</b></Card.Title>\r\n                                                            <Card.Text fontsize=\"1.2rem\">\r\n                                                                <p>Descrição:{card.description}</p>\r\n                                                                <Popup trigger={\r\n                                                                    <Card.Link href=\"#profile\">Mais info</Card.Link>\r\n                                                                    }\r\n                                                                    position=\"right top\"\r\n                                                                    modal\r\n                                                                    nested\r\n                                                                >\r\n                                                                {/**falta por resto e botoes com handles! */}\r\n                                                                <div>\r\n                                                                    <p><u>Descrição:</u> {card.description}</p>\r\n                                                                    <p><u>Data:</u> {dateFormat(card.time,\"default\")}</p>\r\n                                                                    <p><u>Id:</u> {card.id}</p>\r\n                                                                    <Button id={card.id} variant=\"outline-success\" size=\"sm\" onClick={this.handleFinishHelp}>Concluir Ajuda</Button>\r\n                                                                    <Button id={card.id} variant=\"outline-danger\" size=\"sm\" onClick={this.handleCancelHelp}>Cancelar Ajuda</Button>\r\n                                                                    <Link to=\"/maps\">\r\n                                                                        <Button value={card.location.lat, card.location.lng} variant=\"outline-info\" size=\"sm\"\r\n                                                                        onClick={(e) => this.handleShowOnMap(e,card.location.lat, card.location.lng)}>Mostrar no Mapa</Button> \r\n                                                                    </Link>          \r\n                                                                </div>\r\n                                                                </Popup>\r\n                                                                <Popup trigger={\r\n                                                                    <Card.Link href=\"#profile\">Escolher ajudante</Card.Link>\r\n                                                                    }\r\n                                                                    position=\"right top\"\r\n                                                                    modal\r\n                                                                    nested\r\n                                                                >\r\n                                                                <Helpers cardId={card.id} />\r\n                                                                </Popup>\r\n                                                            </Card.Text>\r\n                                                        </Card.Body>\r\n                                                        </Card>\r\n                                                    </Col>\r\n                                                    );\r\n                                                }\r\n                                                else{\r\n                                                    return(\r\n                                                        <Col>\r\n                                                        <Card border=\"warning\" style={{ width: '21rem' , height:'10rem' , margin:'1rem'}}>\r\n                                                        <Card.Body>\r\n                                                        <Card.Title><b>{card.name}</b></Card.Title>\r\n                                                            <Card.Text fontsize=\"1.2rem\">\r\n                                                                <p>Descrição: {card.description}</p>\r\n                                                                <Popup trigger={\r\n                                                                    <Card.Link href=\"#profile\">Mais info</Card.Link>\r\n                                                                    } \r\n                                                                    position=\"right top\"\r\n                                                                    modal\r\n                                                                    nested\r\n                                                                >\r\n                                                                <div>\r\n                                                                    <p><u>Descrição:</u> {card.description}</p>\r\n                                                                    <p><u>Data de Inicio:</u> {dateFormat(card.start,\"default\")}</p>\r\n                                                                    <p><u>Data de Fim:</u> {dateFormat(card.end,\"default\")}</p>\r\n                                                                    <p><u>Id:</u> {card.id}</p>\r\n                                                                    <Button id={card.id} variant=\"outline-success\" size=\"sm\" onClick={this.handleFinishEvent}>Concluir Evento</Button>\r\n                                                                    <Button id={card.id} variant=\"outline-danger\" size=\"sm\" onClick={this.handleCancelEvent}>Cancelar Evento</Button>\r\n                                                                   <Link to=\"/maps\">\r\n                                                                        <Button value={card.location.lat,card.location.lng} variant=\"outline-info\" size=\"sm\"\r\n                                                                        onClick={(e) => this.handleShowOnMap(e,card.location.lat,card.location.lng)}>Mostrar no Mapa</Button> \r\n                                                                    </Link>   \r\n                                                                </div>\r\n                                                                </Popup>\r\n                                                                <Popup trigger={\r\n                                                                    <Card.Link href=\"#profile\">Ver Participantes</Card.Link>\r\n                                                                    }\r\n                                                                    position=\"right top\"\r\n                                                                    modal\r\n                                                                    nested\r\n                                                                >\r\n                                                                <Participants cardId={card.id} />\r\n                                                                </Popup>\r\n                                                            </Card.Text>\r\n                                                        </Card.Body>\r\n                                                        </Card>\r\n                                                        </Col>\r\n                                                    )\r\n                                                } \r\n                                            })}\r\n                                    </Row>\r\n                                </Tab>\r\n                                {\r\n                                    isUser &&\r\n\r\n                                    <Tab eventKey=\"getsMine \" title=\"Ajudas/Eventos inscritos\">\r\n                                        <Row xs={1} md={2}>\r\n                                            {this.state.mine.map((me,index) => {\r\n                                                if(!me.isEvent){  \r\n                                                    return( \r\n                                                    <Col>\r\n                                                    <Card border=\"danger\" style={{ width: '21rem' , height:'10rem' , margin:'1rem'}}>\r\n                                                        <Card.Body>\r\n                                                        <Card.Title><b>{me.name}</b></Card.Title>\r\n                                                            <Card.Text fontsize=\"1.2rem\">\r\n                                                                <p>Descrição:{me.description}</p>\r\n                                                                <Popup trigger={\r\n                                                                    <Card.Link href=\"#profile\">Mais info</Card.Link>\r\n                                                                    }\r\n                                                                    position=\"right top\"\r\n                                                                    modal\r\n                                                                    nested\r\n                                                                >\r\n                                                                {/**falta por resto e botoes com handles! */}\r\n                                                                <div>\r\n                                                                    <p><u>Descrição:</u> {me.description}</p>\r\n                                                                    <p><u>Data:</u> {dateFormat(me.time,\"default\")}</p>\r\n                                                                    <p><u>Id:</u> {me.id}</p>\r\n                                                                    <Button id={me.id} variant=\"outline-danger\" size=\"sm\" onClick={this.handleLeaveHelp}>Deixar Ajuda</Button>\r\n                                                                    <Link to=\"/maps\">\r\n                                                                        <Button value={me.location.lat, me.location.lng} variant=\"outline-info\" size=\"sm\"\r\n                                                                        onClick={(e) => this.handleShowOnMap(e,me.location.lat,me.location.lng)}>Mostrar no Mapa</Button> \r\n                                                                    </Link>          \r\n                                                                </div>\r\n                                                                </Popup>\r\n                                                            </Card.Text>\r\n                                                        </Card.Body>\r\n                                                        </Card>\r\n                                                    </Col>\r\n                                                    );\r\n                                                }\r\n                                                else{\r\n                                                    return(\r\n                                                        <Col>\r\n                                                        <Card border=\"warning\" style={{ width: '21rem' , height:'10rem' , margin:'1rem'}}>\r\n                                                        <Card.Body>\r\n                                                        <Card.Title><b>{me.name}</b></Card.Title>\r\n                                                            <Card.Text fontsize=\"1.2rem\">\r\n                                                                <p>Descrição: {me.description}</p>\r\n                                                                <Popup trigger={\r\n                                                                    <Card.Link href=\"#profile\">Mais info</Card.Link>\r\n                                                                    } \r\n                                                                    position=\"right top\"\r\n                                                                    modal\r\n                                                                    nested\r\n                                                                >\r\n                                                                {/**falta por resto e botoes com handles! */}\r\n                                                                <div>\r\n                                                                    <p><u>Descrição:</u> {me.description}</p>\r\n                                                                    <p><u>Data de Inicio:</u> {dateFormat(me.start,\"default\")}</p>\r\n                                                                    <p><u>Data de Fim:</u> {dateFormat(me.end,\"default\")}</p>\r\n                                                                    <p><u>Id:</u> {me.id}</p>\r\n                                                                    <Button id={me.id} variant=\"outline-danger\" size=\"sm\" onClick={this.handleLeaveEvent}>Sair de Evento</Button>\r\n                                                                    <Link to=\"/maps\">\r\n                                                                        <Button value={me.location.lat,me.location.lng} variant=\"outline-info\" size=\"sm\"\r\n                                                                        onClick={(e) => this.handleShowOnMap(e,me.location.lat,me.location.lng)}>Mostrar no Mapa</Button> \r\n                                                                    </Link>   \r\n                                                                </div>\r\n                                                                \r\n                                                                {/**botao de concluir,cancelar ajuda/evento ver o nº\r\n                                                                de pessoas que estao inscritas no evento\r\n                                                                botao de mostrar no mapa?*/}\r\n                                                                </Popup>\r\n                                                                <Popup trigger={\r\n                                                                    <Card.Link href=\"#profile\">Ver Participantes</Card.Link>\r\n                                                                    }\r\n                                                                    position=\"right top\"\r\n                                                                    modal\r\n                                                                    nested\r\n                                                                >\r\n                                                                <Participants cardId={me.id} />\r\n                                                                </Popup>\r\n                                                            </Card.Text>\r\n                                                        </Card.Body>\r\n                                                        </Card>\r\n                                                        </Col>\r\n                                                    )\r\n                                                } \r\n                                            })}\r\n                                    </Row>\r\n                                    </Tab>\r\n                                }\r\n                            </Tabs>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>   \r\n            </Form>   \r\n        )\r\n    }\r\n}\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { ServicePathsLabel , PathsLabel } from '../Common/Utils/Paths.js';\r\nimport swal from \"sweetalert\";\r\n\r\nconst passPattern = '^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}$';\r\n//passes iguais OK, regex esta OK e form vazio OK\r\n//vai ser preciso confirmar que oldPass e igual a pass que esta neste user!!!\r\n//preciso de ter um changepassword para inst?\r\n\r\n// FAZER VERIFICAÇAO DE LOGIN SABER SE PODES ESTAR NUM ECRA\r\nclass ChangePassword extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            oldPass: '',\r\n            newPass: '',\r\n            newPass2: '',\r\n            isPassCorrect: true\r\n        }\r\n        this.handleChangePass = this.handleChangePass.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n\r\n    }\r\n\r\n    handleChangePass(e) {\r\n        var url = ServicePathsLabel.ApiProd;\r\n        //if (!this.state.password || !this.state.password2 || !matchPass)\r\n            //meter alert e return\r\n        \r\n        if (sessionStorage.getItem(\"role\") === \"INSTITUTION\") {\r\n            url += ServicePathsLabel.Institution + \"/\" + sessionStorage.getItem('id') + PathsLabel.ChangePassword + '?tokenId=' + sessionStorage.getItem('token');\r\n            console.log(e.target.parentNode.checkValidity())\r\n            if (e.target.parentNode.checkValidity()) {\r\n                let json: Password = {\r\n                    oldPassword: this.state.oldPass,\r\n                    newPassword:this.state.newPass,\r\n                    confirmation:this.state.newPass2   \r\n                }\r\n                const requestOptions = {\r\n                    method: 'PUT',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify(json)\r\n                };                   \r\n                fetch(url, requestOptions)\r\n                .then(response => {\r\n                     if (response.ok) {\r\n                        swal(\"Mudança de password feita com sucesso.\", \" \",\"success\");\r\n                        //return response.json();\r\n                    }else{\r\n                        swal(\"As passwords estão diferentes. Tenta outra vez\",\"\",\"error\");\r\n                        //this.setState({error: response.statusText});\r\n                        //throw new Error(response.statusText);\r\n                    //}\r\n                    }\r\n                })\r\n                .catch(\r\n                    //arrow functions\r\n                );\r\n                \r\n            }\r\n            else {\r\n                swal(\"Por favor preencha todos os campos.\", \"error\");\r\n            }\r\n        } \r\n        if(sessionStorage.getItem(\"role\") === \"USER\"){\r\n            url += ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id') + PathsLabel.ChangePassword + '?tokenId=' + sessionStorage.getItem('token');\r\n            if (e.target.parentNode.checkValidity()) {\r\n                let json: Password = {\r\n                    oldPassword: this.state.oldPass,\r\n                    newPassword:this.state.newPass,\r\n                    confirmation:this.state.newPass2\r\n                }\r\n                const requestOptions = {\r\n                    method: 'PUT',\r\n                    headers: { 'Content-Type': 'application/json'},\r\n                    body: JSON.stringify(json)\r\n                };\r\n                fetch(url, requestOptions)\r\n                .then(response => {\r\n                     if (response.ok) {\r\n                        swal(\"Mudança de password feita com sucesso.\", \" \",\"success\");\r\n                        //return response.json();\r\n                    }else{\r\n                        swal(\"As passwords estão diferentes. Tenta outra vez\",\"\",\"error\");\r\n                        //this.setState({error: response.statusText});\r\n                        //throw new Error(response.statusText);\r\n                    //}\r\n                    }\r\n                })\r\n                .catch(\r\n                    //arrow functions\r\n                );\r\n            }\r\n            else {\r\n                swal(\"Por favor preencha todos os campos.\", \"error\");\r\n            }\r\n\r\n        }\r\n        e.preventDefault();\r\n    }\r\n\r\n    onChange(e) {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        const isPassCorrect = target.checkValidity() || value === '';\r\n        this.setState({ ...this.state, [name]: value, isPassCorrect: isPassCorrect });\r\n        console.log(this.state)\r\n        e.preventDefault();\r\n\r\n    }\r\n\r\n    render() {\r\n        const isPassCorrect = this.state.isPassCorrect;\r\n        var matchPass = this.state.newPass === this.state.newPass2;\r\n        if (!this.state.newPass || !this.state.newPass2)\r\n            matchPass = true;\r\n        return (\r\n\r\n            <div className=\"p-5\">\r\n                <Form validated>\r\n                    <Form.Group controlId=\"formOldPassword\">\r\n                        <Form.Label>Antiga Password</Form.Label>\r\n                        <Form.Control type=\"password\" name=\"oldPass\" placeholder=\"Introduz password antiga\"\r\n                            onChange={this.onChange} value={this.state.oldPass} required />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formNewPassword\">\r\n                        <Form.Label>Nova Password</Form.Label>\r\n                        <Form.Control type=\"password\" name=\"newPass\" placeholder=\"Introduz password nova\"\r\n                            onChange={this.onChange} value={this.state.newPass} pattern={passPattern}\r\n                            required />\r\n                    </Form.Group>\r\n                    {!isPassCorrect &&\r\n                        <div className=\"text-danger\">\r\n                            <p>A password deve ter entre 8 a 20 caracteres e no minimo um simbolo,\r\n                                    um número, uma letra minúscula e uma letra maiúscula.</p>\r\n                        </div>\r\n                    }\r\n\r\n                    <Form.Group controlId=\"formRetypePassword\">\r\n                        <Form.Label>Reintroduz Password</Form.Label>\r\n                        <Form.Control type=\"password\" name=\"newPass2\" placeholder=\"Reintroduz a password nova\"\r\n                            onChange={this.onChange} value={this.state.newPass2}\r\n                            required />\r\n                        {!matchPass &&\r\n                            <div className=\"text-danger\">\r\n                                <p>A password está diferente.</p>\r\n                            </div>\r\n                        }\r\n                    </Form.Group>\r\n\r\n                    <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleChangePass}>\r\n                        Atualizar\r\n                    </Button>\r\n                </Form>\r\n            \r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default ChangePassword;","import React,{Component} from 'react';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { ServicePathsLabel,PathsLabel } from '../Common/Utils/Paths.js';\r\nimport swal from 'sweetalert';\r\nclass UpdateProfile extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            name:'',\r\n            bio:'',\r\n            visibility: false,\r\n            initials:'',\r\n            categories:[]  \r\n        }\r\n        this.handleUpdate = this.handleUpdate.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    handleUpdate(){\r\n        //url MUDAR OS LINKS\r\n        var url=ServicePathsLabel.ApiProd;\r\n         if (sessionStorage.getItem(\"role\") === \"INSTITUTION\") {    \r\n            url += ServicePathsLabel.Institution + \"/\" + sessionStorage.getItem('id')\r\n            + PathsLabel.Profile + '?tokenId=' + sessionStorage.getItem('token');\r\n\r\n            let json: Profile ={\r\n                //por variaveis extra\r\n                name: this.state.name,\r\n                bio: this.state.bio,\r\n                initials:this.state.initials,\r\n                categories:this.state.categories\r\n\r\n            }\r\n            //requestOptions\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(json)\r\n            }\r\n\r\n            //fetch\r\n            fetch(url,requestOptions)\r\n                    .then(data =>{\r\n                        swal(\"Atualização feita com sucesso.\", \" \",\"success\");\r\n                    }).catch(\r\n                        //arrow functions\r\n                    );\r\n        }\r\n        else{\r\n\r\n            url += ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id')\r\n            + PathsLabel.Profile + '?tokenId=' + sessionStorage.getItem('token');\r\n\r\n            let json: Profile ={\r\n                name: this.state.name,\r\n                bio: this.state.bio\r\n            }\r\n            //requestOptions\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(json)\r\n            }\r\n\r\n            //fetch\r\n            fetch(url,requestOptions)\r\n                    .then(data =>{\r\n                        swal(\"Atualização feita com sucesso.\", \" \",\"success\");\r\n                    }).catch(\r\n                        //arrow functions\r\n                    );\r\n        }\r\n    }\r\n\r\n     onChange(e) {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        this.setState({ ...this.state, [name]: value });\r\n        console.log(this.state)\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"p-5\">\r\n                <Form>\r\n                    <Form.Group controlId=\"formName\">\r\n                        <Form.Label>Nome</Form.Label>\r\n                        <Form.Control name=\"name\" type=\"name\" placeholder=\"Introduz o nome\"\r\n                            onChange={this.onChange} value={this.state.name}/>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBio\">\r\n                        <Form.Label>Bio</Form.Label>\r\n                        <Form.Control name=\"bio\" type=\"bio\" placeholder=\"Fala-nos sobre ti\" \r\n                            onChange={this.onChange} as=\"textarea\" rows={3} value={this.state.bio}/>\r\n                    </Form.Group>\r\n                </Form>\r\n                <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleUpdate}>\r\n                    Atualizar\r\n                </Button>\r\n    \t    </div>\r\n            \r\n        );\r\n    }\r\n\r\n}\r\nexport default UpdateProfile;","import React,{ Component } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { ServicePathsLabel,PathsLabel,Roles } from '../Common/Utils/Paths.js';\r\nimport swal from 'sweetalert';\r\n\r\nclass UpdateEmail extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            newMail:''\r\n        }\r\n        this.onChange = this.onChange.bind(this);\r\n        this.handleUpdateEmail=this.handleUpdateEmail.bind(this);\r\n    }\r\n\r\n     onChange(e) {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        \r\n        console.log(value)\r\n        this.setState({ ...this.state, [name]: value });\r\n        console.log(this.state)\r\n        e.preventDefault();\r\n    }\r\n\r\n    handleUpdateEmail(){\r\n        \r\n        var url= ServicePathsLabel.ApiProd + Roles.User + sessionStorage.getItem('id') + PathsLabel.UpdateEmail + \"?tokenId=\" + sessionStorage.getItem('token'); \r\n        //requestOptions\r\n        let json: Email = {\r\n            email: this.state.newMail\r\n        }\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json'},\r\n            body: JSON.stringify(json)\r\n        };\r\n\r\n        \r\n        fetch(url, requestOptions)\r\n        .then(response => {\r\n                if (response.ok) {\r\n                swal(\"Mudança de email feita com sucesso.\", \" \",\"success\");\r\n            }else{\r\n                swal(\"Houve um problema na atualização. Tenta outra vez\",\"\",\"error\");\r\n            }\r\n        })\r\n        .catch(\r\n            //arrow functions\r\n        );\r\n\r\n    }\r\n    //verificar email atual com o que existe\r\n    render(){\r\n        return(\r\n            <div className=\"p-5\">\r\n                <Form validated>\r\n                    <Form.Group controlId=\"formNewEmail\">\r\n                        <Form.Label>Novo Email</Form.Label>\r\n                        <Form.Control type=\"email\" name=\"newMail\" placeholder=\"Introduza o email novo\"\r\n                            onChange={this.onChange} value={this.state.newMail} required />\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" className=\"mt-2\" onClick={this.handleUpdateEmail}>\r\n                        Atualizar\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default UpdateEmail;","import React, { Component } from 'react';\r\nimport { Tab, Nav, Col, Row, Button } from 'react-bootstrap';\r\nimport swal from 'sweetalert';\r\nimport BootstrapSwitchButton from 'bootstrap-switch-button-react'\r\nimport ChangePassword from './ChangePassword.js';\r\nimport UpdateInfo from './UpdateInfo.js';\r\nimport UpdateProfile from './UpdateProfile.js';\r\nimport UpdateEmail from './UpdateEmail.js';\r\nimport { ServicePathsLabel,PathsLabel } from '../Common/Utils/Paths.js';\r\nimport \"./ProfileSetting.css\";\r\n\r\n//por aqui o handleDelete\r\n\r\n// por espaço entre os botoes\r\n\r\nclass ProfileSettings extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state= {\r\n            error: '',\r\n            visibility:true\r\n        }\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n        this.handleVisibility = this.handleVisibility.bind(this);\r\n        this.changeVisibility = this.changeVisibility.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        var urlProfileUser = ServicePathsLabel.ApiProd + ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id') + PathsLabel.Profile +'?tokenId=' + sessionStorage.getItem('token');\r\n        var urlProfileInst = ServicePathsLabel.ApiProd + ServicePathsLabel.Institution + \"/\" + sessionStorage.getItem('id') + PathsLabel.Profile +'?tokenId=' + sessionStorage.getItem('token');\r\n        if (sessionStorage.getItem(\"role\") === \"INSTITUTION\") {\r\n            const requestOptions = {\r\n                method: 'GET',\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch(urlProfileInst,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                visibility:data.visibility\r\n            })).catch(\r\n                //arrow functions<\r\n            );\r\n         }\r\n         else{\r\n              const requestOptions = {\r\n                method: 'GET',\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            fetch(urlProfileUser,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => this.setState({\r\n                visibility:data.visibility\r\n            })).catch(\r\n                //arrow functions<\r\n            );\r\n\r\n         }\r\n    }\r\n\r\n    changeVisibility(){\r\n        this.setState({visibility: !this.state.visibility },() =>\r\n        this.handleVisibility());\r\n           \r\n    }\r\n\r\n    async handleVisibility(e){\r\n        var url = ServicePathsLabel.ApiProd;\r\n        //requestoptions\r\n        //json\r\n        //fetch\r\n        if (sessionStorage.getItem(\"role\") === \"INSTITUTION\") {   \r\n            const visibilityString = this.state.visibility.toString();        \r\n            url += ServicePathsLabel.Institution + \"/\" + sessionStorage.getItem('id')\r\n            + PathsLabel.Visibility+ '?visibility='+ visibilityString +'&'+ 'tokenId=' + sessionStorage.getItem('token');\r\n\r\n            let json: Visibility = {\r\n                visibility: this.state.visibility\r\n            }\r\n\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            console.log(this.state.visibility)\r\n            await fetch(url,requestOptions)\r\n            .then(data =>{\r\n                //this.setState({visibility: this.state.visibility});\r\n                swal(\"Atualização feita com sucesso.\", \" \",\"success\");\r\n            }).catch(\r\n                    //arrow functions\r\n            );\r\n            \r\n\r\n        }else{\r\n            //MUDAR O LINK\r\n            const visibilityString = this.state.visibility.toString(); \r\n            url += ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id')\r\n            + PathsLabel.Visibility +'?visibility='+ visibilityString + '&' + 'tokenId=' + sessionStorage.getItem('token');\r\n            \r\n            let json: Visibility = {\r\n                visibility: this.state.visibility\r\n            }\r\n            console.log(this.state.visibility)\r\n            const requestOptions = {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' }\r\n            }\r\n            \r\n            await fetch(url,requestOptions)\r\n            .then(data =>{\r\n                 //this.setState({visibility: this.state.visibility});\r\n                swal(\"Atualização feita com sucesso.\", \" \",\"success\");\r\n            }).catch(\r\n                    //arrow functions\r\n            );\r\n        }\r\n       \r\n    }\r\n\r\n    handleDelete(e){\r\n        //por link de prod\r\n        var url = ServicePathsLabel.ApiProd;\r\n        \r\n        if(sessionStorage.getItem(\"role\") === \"INSTITUTION\"){\r\n            url += ServicePathsLabel.Institution+ \"/\" + sessionStorage.getItem('id') +  '?tokenId=' + sessionStorage.getItem('token');;\r\n            const requestOptions = {\r\n                    method: 'DELETE',\r\n                    headers: { 'Content-Type': 'application/json'}\r\n                    \r\n                };                     \r\n                swal({\r\n                    title: \"Tem a certeza que quer apagar a conta?\",\r\n                    text: \"Se for apagada ela vai ficar desativada e terá de entrar em contacto connosco para a reactivar!\",\r\n                    icon: \"warning\",\r\n                    buttons: true,\r\n                    dangerMode: true,\r\n                })\r\n                .then((willDelete) => {\r\n                    if (willDelete) {\r\n                        swal(\"A sua conta foi apagada com sucesso\", {\r\n                        icon: \"success\",\r\n                        });\r\n                        fetch(url,requestOptions)\r\n                        .then(response => {\r\n                            if(!response.ok)\r\n                                throw new Error(response.statusText);\r\n                            sessionStorage.clear();\r\n                            window.location.hash = \"/\";\r\n                            window.location.reload();\r\n                        })\r\n                        .catch(error =>{\r\n                            swal(\"Houve um problema a apagar a sua conta.\", \" \", \"error\");\r\n                        })    \r\n                    } \r\n                }); \r\n        }\r\n        \r\n        if(sessionStorage.getItem(\"role\") === \"USER\"){\r\n            url += ServicePathsLabel.User + \"/\" + sessionStorage.getItem('id') + '?tokenId=' + sessionStorage.getItem('token');\r\n            const requestOptions = {\r\n                method: 'DELETE',\r\n                headers: { 'Content-Type': 'application/json'}\r\n            };\r\n            swal({\r\n                    title: \"Tem a certeza que quer apagar a conta?\",\r\n                    text: \"Se for apagada ela não pode ser recuperada!\",\r\n                    icon: \"warning\",\r\n                    buttons: true,\r\n                    dangerMode: true,\r\n                })\r\n            .then((willDelete) => {\r\n                if (willDelete) {\r\n                    swal(\"A sua conta foi apagada com sucesso\", {\r\n                    icon: \"success\",\r\n                    });\r\n                    fetch(url,requestOptions)\r\n                    .then(response => {\r\n                        if(!response.ok)\r\n                            throw new Error(response.statusText);\r\n                        sessionStorage.clear();\r\n                        window.location.hash = \"/\";\r\n                        window.location.reload();\r\n                    })\r\n                    .catch(error =>{\r\n                        swal(\"Houve um problema a apagar a sua conta.\", \" \", \"error\");\r\n                    })    \r\n                } \r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <Tab.Container id=\"profileSettingsMenu\" defaultActiveKey=\"updateInfo\" PullRight >\r\n                    <Row>\r\n                        <Col sm={2} >\r\n                            <Nav variant=\"pills\" className=\"flex-column\">\r\n                                <Nav.Item>\r\n                                    <Nav.Link eventKey=\"updateInfo\">Conta</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item>\r\n                                    <Nav.Link eventKey=\"updateProfile\">Perfil</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item>\r\n                                    <Nav.Link eventKey=\"updateEmail\">E-mail</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item>\r\n                                    <Nav.Link eventKey=\"password\">Mudar Palavra-Passe</Nav.Link>\r\n                                </Nav.Item>\r\n                            </Nav>\r\n                            <hr></hr>\r\n                            <h5>Visibilidade</h5>\r\n                            <div className=\"switch\">\r\n                                <BootstrapSwitchButton\r\n                                    checked={this.state.visibility}\r\n                                    onlabel='Público'\r\n                                    offlabel='Privado'\r\n                                    onChange={this.changeVisibility}\r\n                                    width={100}\r\n                                    size='sm'\r\n                                />\r\n                            </div>\r\n                            <hr></hr>\r\n                            <Button variant=\"danger\" className=\"mt-2\" onClick={this.handleDelete} size=\"sm\" block>\r\n                                Apagar Conta\r\n                            </Button>\r\n                        </Col>\r\n                        <Col sm={9}>\r\n                            <Tab.Content>\r\n                                <Tab.Pane eventKey=\"updateInfo\">\r\n                                    <UpdateInfo />\r\n                                </Tab.Pane>\r\n                                <Tab.Pane eventKey=\"updateProfile\">\r\n                                    <UpdateProfile />\r\n                                </Tab.Pane>\r\n                                 <Tab.Pane eventKey=\"updateEmail\">\r\n                                    <UpdateEmail/>\r\n                                </Tab.Pane>\r\n                                <Tab.Pane eventKey=\"password\">\r\n                                    <ChangePassword />\r\n                                </Tab.Pane>\r\n                            </Tab.Content>\r\n                        \r\n                        </Col>\r\n                    </Row>\r\n                </Tab.Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileSettings;","import React, {Component} from 'react';\r\nimport { ServicePathsLabel, Roles } from '../../Utils/Paths';\r\nimport swal from 'sweetalert';\r\n\r\nclass Operations extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            deleteID: \"\",\r\n            disableID: \"\",\r\n            roleID: \"\", newRole: \"\",\r\n            infoID: \"\"\r\n        }\r\n\r\n        this.updateDeleteID = this.updateDeleteID.bind(this);\r\n        this.updateDisableID = this.updateDisableID.bind(this);\r\n        this.updateRoleID = this.updateRoleID.bind(this);\r\n        this.updateNewRole = this.updateNewRole.bind(this);\r\n        this.updateInfoID = this.updateInfoID.bind(this);\r\n\r\n        this.delete = this.delete.bind(this);\r\n        this.disable = this.disable.bind(this);\r\n        this.role = this.role.bind(this);\r\n        \r\n        this.handleDeleteAccount = this.handleDeleteAccount.bind(this);\r\n        this.handleDisableAccount = this.handleDisableAccount.bind(this);\r\n        this.handleUpdateRole = this.handleUpdateRole.bind(this);\r\n    }\r\n\r\n    updateDeleteID(event){\r\n        this.setState({deleteID : event.target.value})\r\n    }\r\n\r\n    updateDisableID(event){\r\n        this.setState({disableID : event.target.value})\r\n    }\r\n\r\n    updateRoleID(event){\r\n        this.setState({roleID : event.target.value})\r\n    }\r\n\r\n    updateNewRole(event) {\r\n        this.setState({newRole: event.target.value});\r\n        console.log(event.target.value)\r\n    }\r\n\r\n    updateInfoID(event) {\r\n        this.setState({infoID : event.target.value})\r\n    }\r\n\r\n    delete() {\r\n        var url =  ServicePathsLabel.ApiProd + Roles.User + this.state.deleteID + '?tokenId=' + sessionStorage.getItem('token');\r\n\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        };\r\n\r\n        fetch(url, requestOptions)\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        swal(\"Poof! Operação realizada!\", \"Conta foi apagada.\", \"success\");\r\n                        return response.text();\r\n                    } else{\r\n                        swal(\"Erro do lado do servidor!\",\"A operação foi abortada.\", \"error\");\r\n                    }\r\n                })\r\n                .catch(\r\n                    console.log(\"Erro no delete!\")\r\n                );\r\n    }\r\n\r\n    disable() {\r\n        var url = ServicePathsLabel.ApiProd + Roles.User + this.state.disableID + \"/status\" + '?tokenId=' + sessionStorage.getItem('token')\r\n        + '&status=false';\r\n\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        };\r\n\r\n        fetch(url, requestOptions)\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        swal(\"Operação realizada!\", \"Conta foi desativada.\", \"success\");\r\n                        return response.text();\r\n                    } else{\r\n                        swal(\"Erro do lado do servidor!\",\"A operação foi abortada.\", \"error\");\r\n                    }\r\n                })\r\n                .catch(\r\n                    console.log(\"Erro no delete!\")\r\n                );\r\n\r\n        console.log(url);\r\n    }\r\n\r\n    role() {\r\n        var url = ServicePathsLabel.ApiProd + Roles.Gbo + \"updateAccountRole\" +\r\n        \"?userId=\" + this.state.roleID +\r\n        \"&role=\" + this.state.newRole +\r\n        \"&tokenId=\" + sessionStorage.getItem('token');\r\n\r\n        console.log(url);\r\n\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        };\r\n\r\n        fetch(url, requestOptions)\r\n                .then(response => {\r\n                    if (response.ok) {\r\n                        swal(\"Operação realizada!\", \"Role atualizado.\", \"success\");\r\n                        return response.text();\r\n                    } else{\r\n                        swal(\"Erro do lado do servidor!\",\"A operação foi abortada.\", \"error\");\r\n                    }\r\n                })\r\n                .catch(\r\n                    \r\n                );\r\n    }\r\n\r\n    handleDeleteAccount(){\r\n\r\n        swal({\r\n            title: \"Tem a certeza?\",\r\n            text: \"Uma vez apagada, não é possível recuperar a conta!\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n        .then((willDelete) => {\r\n            if (willDelete) {\r\n                //ask for delete\r\n                this.delete();\r\n            } else {\r\n                swal(\"Escolheu não apagar a conta.\");\r\n            }\r\n        }\r\n        );\r\n\r\n    }\r\n\r\n    handleDisableAccount(){\r\n\r\n        swal({\r\n            title: \"Tem a certeza?\",\r\n            text: \"Isto irá desativar a conta!\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n        .then((willDisable) => {\r\n            if (willDisable) {\r\n                //ask for disable\r\n                this.disable();\r\n            } else {\r\n                swal(\"Escolheu não desativar a conta.\");\r\n            }\r\n        }\r\n        );\r\n\r\n    }\r\n\r\n    handleUpdateRole(){\r\n\r\n        swal({\r\n            title: \"Tem a certeza?\",\r\n            text: \"Isto irá influenciar as permissões e funcionalidades da conta!\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n        })\r\n        .then((willUpdateRole) => {\r\n            if (willUpdateRole) {\r\n                //ask for role update\r\n                this.role();\r\n            } else {\r\n                swal(\"Escolheu não trocar o role da conta.\");\r\n            }\r\n        }\r\n        );\r\n\r\n    }\r\n\r\nrender () {\r\n    return (\r\n    <div>\r\n        <input type=\"text\" onChange={this.updateDeleteID}></input>\r\n        <button type=\"submit\" onClick={this.handleDeleteAccount}> Apagar conta </button>\r\n        <br/>\r\n        <br/>\r\n        <input type=\"text\" onChange={this.updateDisableID}></input>\r\n        <button type=\"submit\" onClick={this.handleDisableAccount}> Desativar conta </button>\r\n        <br/>\r\n        <br/>\r\n        <input type=\"text\" onChange={this.updateRoleID}></input>\r\n        <select defaultValue = \"null\" onChange={this.updateNewRole}>\r\n            <option value=\"null\"></option>\r\n            <option value=\"USER\">USER</option>\r\n            <option value=\"GBO\">GBO</option>\r\n        </select>\r\n        <button type=\"submit\" onClick={this.handleUpdateRole}> Mudar role da conta </button>\r\n    </div>\r\n    );\r\n}\r\n}\r\nexport default Operations;","import React, {Component} from 'react';\r\nimport { ServicePathsLabel, Roles } from '../../Utils/Paths';\r\nimport dateFormat from \"dateformat\";\r\nimport Popup from 'reactjs-popup';\r\nimport 'reactjs-popup/dist/index.css';\r\n\r\nclass ListUsers extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visib : false,\r\n            list: [],\r\n            profile: {}\r\n        }\r\n\r\n        this.showUsers = this.showUsers.bind(this);\r\n        this.closeUsers = this.closeUsers.bind(this);\r\n    }\r\n\r\n    showUsers() {\r\n        this.setState({\r\n            visib: true\r\n        });\r\n    }\r\n\r\n    closeUsers() {\r\n        this.setState({\r\n            visib: false\r\n        });\r\n    }\r\n\r\n    convertBoolean(st) {\r\n        if(st === true)\r\n            return \"Sim\";\r\n        else return \"Não\";\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        var url =  ServicePathsLabel.ApiProd + Roles.Gbo + \"listRole\"\r\n        + '?role=' + \"USER\"\r\n        + '&tokenId=' + sessionStorage.getItem('token');\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        };\r\n\r\n        console.log(url);\r\n\r\n        fetch(url, requestOptions)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    list: result\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            });\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <button type=\"submit\" onClick={this.showUsers}> Listar Utilizadores </button>\r\n                <br/>\r\n                {this.state.visib && <button type=\"submit\" onClick={this.closeUsers}> Fechar listagem de Utilizadores </button>}\r\n                <br/>\r\n                <br/>\r\n                {this.state.visib &&\r\n                    this.state.list.map(user => (\r\n                        <div>\r\n                            <h3 className = \"item\">ID: {user.id}</h3>\r\n                            <h3 className = \"item\">Data de criação: {dateFormat(user.creation,\"default\")}</h3>\r\n                        \r\n                        <Popup trigger={<button className=\"button\"> Mais informações </button>\r\n                                       } modal>\r\n                            <div>\r\n                                <h4>ID</h4>\r\n                                <p>{user.id}</p>\r\n\r\n                                <h4>Email</h4>\r\n                                <p>{user.email}</p>\r\n\r\n                                <h4>Conta ativada?</h4>\r\n                                <p>{this.convertBoolean(user.status)}</p>\r\n\r\n                                <h4>Perfil visível?</h4>\r\n                                <p>{this.convertBoolean(user.visibility)}</p>\r\n                            </div>\r\n                        </Popup>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n    );\r\n}\r\n}\r\n\r\nexport default ListUsers;","import React, {Component} from 'react';\r\nimport { ServicePathsLabel, Roles } from '../../Utils/Paths';\r\nimport dateFormat from \"dateformat\";\r\n\r\nclass ListInstitutions extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visib : false,\r\n            list: []\r\n        }\r\n\r\n        this.showInstitutions = this.showInstitutions.bind(this);\r\n        this.closeInstitutions = this.closeInstitutions.bind(this);\r\n    }\r\n\r\n    showInstitutions() {\r\n        this.setState({\r\n            visib: true\r\n        });\r\n        console.log(this.state.list)\r\n    }\r\n\r\n    closeInstitutions() {\r\n        this.setState({\r\n            visib: false\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        var url =  ServicePathsLabel.ApiProd + Roles.Gbo + \"listRole\"\r\n        + '?role=' + \"INSTITUTION\"\r\n        + '&tokenId=' + sessionStorage.getItem('token');\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        };\r\n\r\n        fetch(url, requestOptions)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    list: result\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                    //handle your errors here\r\n                    console.error(error)\r\n            });\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <button type=\"submit\" onClick={this.showInstitutions}> Listar Instituições </button>\r\n                <br/>\r\n                {this.state.visib && <button type=\"submit\" onClick={this.closeInstitutions}> Fechar listagem de Instituições </button>}\r\n                <br/>\r\n                <br/>\r\n                {this.state.visib &&\r\n                    this.state.list.map(inst => (\r\n                        <div>\r\n                            <h3 className = \"item\">ID: {inst.id}</h3>\r\n                            <h3 className = \"item\">Criado a: {dateFormat(inst.creation,\"default\")}</h3>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n    );\r\n}\r\n}\r\n\r\nexport default ListInstitutions;","import React, {Component, Fragment} from 'react';\r\nimport Datetime from 'react-datetime';\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport { ServicePathsLabel, Roles } from '../../Utils/Paths';\r\nimport dateFormat from \"dateformat\";\r\nimport swal from 'sweetalert';\r\n\r\nimport {\r\n  XYPlot,\r\n  XAxis,\r\n  YAxis,\r\n  VerticalGridLines,\r\n  HorizontalGridLines,\r\n  VerticalBarSeries\r\n} from 'react-vis';\r\n\r\nclass UserStats extends Component {\r\n\r\n  constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visib : false,\r\n            start: \"\",\r\n            end: \"\",\r\n            list: []\r\n        }\r\n\r\n    this.getStats = this.getStats.bind(this);\r\n    this.showStats = this.showStats.bind(this);\r\n    this.closeStats = this.closeStats.bind(this);\r\n  }\r\n\r\n  getStats() {\r\n\r\n    if( (!this.state.start) || (!this.state.end) ) {\r\n      swal(\"Selecione duas datas para obter um gráfico estatístico.\");\r\n      return;\r\n    }\r\n\r\n    var url =  ServicePathsLabel.ApiProd + Roles.Gbo + \"dailyUsers\" + '?tokenId=' + sessionStorage.getItem('token')\r\n      + \"&startDate=\" + this.state.start + \"&endDate=\" + this.state.end;\r\n\r\n    console.log(url);\r\n\r\n    const requestOptions = {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json'}\r\n    };\r\n\r\n    fetch(url, requestOptions)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        this.setState({\r\n          list: data\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error)\r\n        swal(\"Ocorreu um erro, tente novamente.\");\r\n      });\r\n\r\n      console.log(this.state.list)\r\n      \r\n  }\r\n\r\n  showStats() {\r\n    this.setState({\r\n      visib: true\r\n    });\r\n  }\r\n\r\n  closeStats() {\r\n    this.setState({\r\n      visib: false\r\n    });\r\n  }\r\n\r\n  changeStart = (event) => {\r\n    this.setState({ start: dateFormat(event.toDate(),\"isoUtcDateTime\") });\r\n  }\r\n\r\n  changeEnd = (event) => {\r\n    this.setState({ end: dateFormat(event.toDate(),\"isoUtcDateTime\") });\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n    <Fragment>\r\n    {this.state.visib &&\r\n      <XYPlot margin={{bottom: 70}} xType=\"ordinal\" width={600} height={600}>\r\n        <VerticalGridLines />\r\n        <HorizontalGridLines />\r\n        <XAxis tickLabelAngle={-30} />\r\n        <YAxis />\r\n        <VerticalBarSeries\r\n          data={this.state.list}\r\n        />\r\n      </XYPlot>\r\n    }\r\n    \r\n    {this.state.visib &&\r\n      <button type=\"submit\" onClick={this.closeStats}> Fechar estatísticas de Utilizadores </button>\r\n    }\r\n\r\n    <p> Data de início </p>\r\n\r\n    <Datetime className = \"office_calendar\" onChange={this.changeStart}/>\r\n\r\n    <br/>\r\n\r\n    <p> Data de fim </p>\r\n\r\n    <Datetime className = \"office_calendar\" onChange={this.changeEnd} />\r\n\r\n    <br/>\r\n\r\n    <button type=\"submit\" onClick={  () => { this.getStats(); this.showStats(); } }> Submeter </button>\r\n\r\n    </Fragment>\r\n  );\r\n  }\r\n}\r\n\r\nexport default UserStats;","import React, {Component} from 'react';\r\nimport { ServicePathsLabel, Roles } from '../../Utils/Paths';\r\nimport swal from 'sweetalert';\r\nimport Popup from 'reactjs-popup';\r\nimport {Container, Row, Col, Form, Button} from 'react-bootstrap';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport dateFormat from \"dateformat\";\r\n\r\nclass ListReports extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visib : false,\r\n            list: [],\r\n            message: \"\"\r\n        }\r\n\r\n        this.showReports = this.showReports.bind(this);\r\n        this.closeReports = this.closeReports.bind(this);\r\n        this.deleteReport = this.deleteReport.bind(this);\r\n        this.answerReport = this.answerReport.bind(this);\r\n        this.changeMessage = this.changeMessage.bind(this);\r\n    }\r\n\r\n    showReports() {\r\n        this.setState({\r\n            visib: true\r\n        });\r\n    }\r\n\r\n    closeReports() {\r\n        this.setState({\r\n            visib: false\r\n        });\r\n    }\r\n    \r\n    changeMessage(e) {\r\n        this.setState({\r\n            message: e.target.value\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        var url =  ServicePathsLabel.ApiProd + Roles.Gbo + \"listReports\" + \"?tokenId=\" + sessionStorage.getItem(\"token\");\r\n\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        };\r\n\r\n        fetch(url, requestOptions)\r\n            .then(res => res.json())\r\n            .then(result => {\r\n                this.setState({\r\n                    list: result\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                console.error(error)\r\n            });\r\n    }\r\n\r\n    deleteReport(id) {\r\n        var url = ServicePathsLabel.ApiProd + Roles.Gbo + \"deleteReport\" + \"?tokenId=\" + sessionStorage.getItem('token')\r\n            + \"&reportId=\" + id;\r\n\r\n        const requestOptions = {\r\n            method: 'DELETE',\r\n            headers: { 'Content-Type': 'application/json'}\r\n        };\r\n\r\n        fetch(url,requestOptions) \r\n        .then(response => {\r\n            if (response.ok) {\r\n                swal(\"Report apagado!\", \"\", \"success\");\r\n\r\n            } else {\r\n                swal(\"Não foi possível apagar este report...\", \"\", \"error\");\r\n            }\r\n        })\r\n        .catch(error => {\r\n                console.log(error);\r\n              }\r\n        );\r\n    }\r\n\r\n    answerReport(id) {\r\n        var url = ServicePathsLabel.ApiProd + Roles.Gbo + \"respondReport\"\r\n            + \"?tokenId=\" + sessionStorage.getItem('token')\r\n            + \"&reportId=\" + id;\r\n\r\n        console.log(url);\r\n\r\n        let json: ReportResponse = {\r\n            message: this.state.message\r\n        }\r\n\r\n        console.log(json);\r\n\r\n        const requestOptions = {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(json)\r\n        };\r\n\r\n        fetch(url,requestOptions)\r\n        .then(response => {\r\n                   if (response.ok) {\r\n                    swal(\"Respondeu ao report!\", \"\", \"success\");\r\n                   } else {\r\n                    swal(response.statusText, \"\", \"error\");\r\n                   }\r\n            })\r\n        .catch(error => {\r\n                console.log(error);\r\n              }\r\n        );\r\n\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div>\r\n                <button type=\"submit\" onClick={this.showReports}> Listar Reports </button>\r\n                <br/>\r\n                {this.state.visib && <button type=\"submit\" onClick={this.closeReports}> Fechar listagem de Reports </button>}\r\n                <br/>\r\n                <br/>\r\n                {this.state.visib &&\r\n                    this.state.list.map(report => (\r\n                        <div className = \"report_item\">\r\n                            <h3 className = \"item\">ID: {report.id}</h3>\r\n                            <h3 className = \"item\">Enviado por: {report.creator}</h3>\r\n                            <h3 className = \"item\">Data de envio: {dateFormat(report.date,\"default\")}</h3>\r\n                            <button className=\"button\" onClick = {() => this.deleteReport(report.id)}>Apagar</button>\r\n                            <Popup trigger={<button className=\"button\"> Abrir </button>} modal>\r\n                                <div>\r\n                                    <h4>ID</h4>\r\n                                    <p>{report.id}</p>\r\n                                    \r\n                                    <h4>Utilizador</h4>\r\n                                    <p>{report.creator}</p>\r\n                                    \r\n                                    <h4>Data de envio</h4>\r\n                                    <p>{dateFormat(report.date,\"default\")}</p>\r\n                                    <br/>\r\n                                    <h4>Assunto</h4>\r\n                                    <p>{report.subject}</p>\r\n                                    \r\n                                    <h4>Explicação</h4>\r\n                                    <p> {report.text} </p>\r\n                                    <br/>\r\n                                </div>\r\n                            </Popup>\r\n                            <Popup trigger={<button className=\"button\"> Responder </button>} modal>\r\n                                <Container>\r\n                                    <h1> Mande uma resposta para {report.creator} </h1>\r\n                                    <br/>\r\n                                    <Row className=\"justify-content-md-center\">\r\n                                        <Col lg=\"8\">           \r\n                                            <Form>\r\n                                                <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea3\">\r\n                                                    <Form.Control as=\"textarea\" rows={5} onChange = {this.changeMessage} />\r\n                                                </Form.Group>\r\n                                                <Button as=\"input\" type=\"submit\" value=\"Submeter\"\r\n                                                    onClick = {() => {this.answerReport(report.id)}}/>\r\n                                            </Form>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Container>\r\n                            </Popup>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n    );\r\n}\r\n}\r\n\r\nexport default ListReports;","import React, {Component} from \"react\";\r\nimport Table from 'react-bootstrap/Table'\r\nimport Operations from './Components/Operations.js';\r\nimport ListUsers from './Components/ListUsers.js';\r\nimport ListInstitutions from './Components/ListInstitutions.js';\r\nimport UserStats from './Components/UserStats.js';\r\nimport ListReports from './Components/ListReports.js';\r\nimport './BoHome.css';\r\n\r\nclass BoHome extends Component {\r\n\r\n  render() {\r\n    return (\r\n      <Table striped bordered hover>\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <h2 className = \"title\"> Bem-vindo ao Back Office, {sessionStorage.getItem('id')}! </h2>\r\n              <br />\r\n              {<Operations />}\r\n            </td>\r\n\r\n          </tr>\r\n\r\n          <tr>\r\n            <td>\r\n                {<ListUsers className = \"item\" />}\r\n            </td>\r\n            <td>\r\n                {<ListInstitutions className = \"item\" />}\r\n            </td>\r\n          </tr>\r\n\r\n          <tr>\r\n            <td>\r\n                {<ListReports />}\r\n            </td>\r\n\r\n            <td>\r\n              {<UserStats/>}\r\n            </td>\r\n            \r\n          </tr>\r\n          \r\n        </tbody>\r\n      </Table>\r\n\r\n    );\r\n  }\r\n}\r\nexport default BoHome;","import React, { Component } from 'react';\r\nimport { Container, Card, Row, Col } from 'react-bootstrap';\r\nimport { ServicePathsLabel, PathsLabel, Roles } from './Paths.js';\r\n\r\nclass Feed extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            feed:[]\r\n        }\r\n    }\r\n    \r\n    async componentDidMount(){\r\n        var feedAux=[];\r\n        var urlFeed=ServicePathsLabel.ApiProd + Roles.User + sessionStorage.getItem('id') + PathsLabel.Feed + \"?tokenId=\" + sessionStorage.getItem('token');\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        }  \r\n        await fetch(urlFeed,requestOptions)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                for(var i = 0; i < data.length; i++) {\r\n                var obj = data[i];\r\n                var feedInfo = {\r\n                      info:obj.message\r\n                }\r\n                    feedAux.push(feedInfo);\r\n                }   \r\n            });\r\n            this.setState({feed:feedAux})\r\n    }\r\n    \r\n//como fazer aparecer o feed\r\n    render() {\r\n        return(\r\n           <Container>\r\n                <Row xs={1} md={2}>\r\n                    {this.state.feed.map((feedInfo,index)=>\r\n                        <Col>\r\n                            <Card border=\"info\" style={{ width: '24rem' , height:'9rem' , margin:'1rem'}}>\r\n                                <Card.Body>\r\n                                <Card.Title><b>Notificação {index+1}</b></Card.Title>\r\n                                    <Card.Text>-{feedInfo.info}</Card.Text>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Col>\r\n                    )}\r\n                </Row>\r\n           </Container>\r\n        )\r\n    }\r\n}\r\nexport default Feed;","export default __webpack_public_path__ + \"static/media/di.fe413074.jpg\";","export default __webpack_public_path__ + \"static/media/remote.f5a43b76.jpg\";","export default __webpack_public_path__ + \"static/media/office.3d20616d.jpg\";","import React, { Component } from 'react';\r\nimport {Table} from 'react-bootstrap';\r\nimport DI from '../../../di.jpg';\r\nimport remote from '../../../remote.jpg';\r\nimport office from '../../../office.jpg';\r\nimport './AboutUs.css';\r\n\r\nclass AboutUs extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <Table size =\"lg\">\r\n                <tr>\r\n                    <td>  \r\n                        <div className=\"px-4 py-5 my-5 text-center\">\r\n                            <img className=\"di_jpg\" src={DI}\r\n                            alt=\"\" width=\"740\" height=\"300\"></img>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                    <div className = \"profile_head\">\r\n                        <h1 className = \"hh_name\"> Helping Hand </h1>\r\n                        <h3 className = \"pcs_name\"> PogChamp Software </h3>\r\n\r\n                        <p className = \"description\">\r\n                        A equipa \"PogChamp Software\" é formada por alunos do Mestrado Integrado em Engenharia Informática, que se agrupou para desenvolver um projeto para a Unidade Curricular de APDC.\r\n                        </p>\r\n                        \r\n                        <p className = \"description\">\r\n                        Os alunos são os seguintes: André Pinto, André Simões, David Pereira, Luís Ornelas, Rodrigo Serôdio e Tiago Matias.\r\n                        </p>\r\n\r\n                        <p className = \"description\">\r\n                        O projeto que estamos a desenvolver teve início em março de 2021, com a finalidade de oferecer uma nova plataforma de ajuda ás pessoas mais carenciadas.\r\n                        </p>\r\n                      </div>\r\n                    </td>\r\n                </tr>\r\n                \r\n                <tr>\r\n                    <td>\r\n                        <div className = \"profile_head\">\r\n                            <h3 className = \"pcs_name\"> Desafios... </h3>\r\n\r\n                            <p className = \"description\">\r\n                                A pandemia do novo coronavírus SARS-CoV-2, responsável pela doença Covid-19, abalou o mundo no início do ano de 2020.\r\n                            </p>\r\n\r\n                            <p className = \"description\">\r\n                                Esta afetou imenso o nosso projeto em várias dimensões. A primeira delas é o tema, pois durante uma tragédia desta magnitude, que, entre março de 2020 e julho de 2021, causou 891 mil infeções em Portugal, torna os agentes de ajuda e caridade mais valiosos e de necessidade urgente.\r\n                            </p>\r\n\r\n                            <p className = \"description\">\r\n                                Por outro lado, deturpou os moldes nos quais esta Unidade Curricular se tem vindo a desenrolar em anos anteriores.\r\n                            </p>\r\n\r\n                            <p className = \"description\">\r\n                                As medidas restritivas aplicadas pelo Governo Português obrigaram o grupo a trabalhar de forma remota, predispondo um género de escritório virtual.\r\n                            </p>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div className=\"px-4 py-5 my-5 text-center\">\r\n                            <img className=\"remote_jpg\" src={remote}\r\n                            alt=\"\" width=\"339\" height=\"288\"></img>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td>\r\n                        <div className=\"px-4 py-5 my-5\">\r\n                            <img className=\"office_jpg\" src={office}\r\n                            alt=\"\" width=\"528\" height=\"352\"></img>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div className = \"profile_head\">\r\n                            <h3 className = \"pcs_name\"> Valores e Trabalho </h3>\r\n\r\n                            <p className = \"description\">\r\n                            A nossa equipa vive um ambiente de trabalho com base nos valores da cooperação e entreajuda.\r\n                            </p>\r\n\r\n                            <p className = \"description\">\r\n                            A compaixão que sentimos para com os afetados pela pandemia e a possibilidade de podermos viabilizar uma ferramenta que venha a ajudar milhares de pessoas carenciadas são as nossas maiores motivações.\r\n                            </p>\r\n\r\n                            <p className = \"description\">\r\n                            Não podemos deixar de referir o profissionalismo e o interesse que temos em desenvolver competências que venham favorecer a nossa integração pessoal em ambientes empresariais.\r\n                            </p>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n             </Table>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default AboutUs;","import React, {Component} from 'react'\r\nimport { ServicePathsLabel, Roles } from './Paths';\r\nimport {Container, Row, Col, Form, Button} from 'react-bootstrap';\r\nimport swal from 'sweetalert';\r\n\r\nclass Report extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            subject : \"\",\r\n            text : \"\"\r\n        }\r\n\r\n        this.report = this.report.bind(this);\r\n        this.changeSubject = this.changeSubject.bind(this);\r\n        this.changeText = this.changeText.bind(this);\r\n    }\r\n\r\n    report() {\r\n        var url =  ServicePathsLabel.ApiProd + Roles.Gbo + \"createReport/\" + '?tokenId=' + sessionStorage.getItem('token');\r\n        \r\n        let json: Login = {\r\n            subject: this.state.subject,\r\n            text: this.state.text\r\n        }\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json'},\r\n            body: JSON.stringify(json)\r\n        };\r\n\r\n        fetch(url,requestOptions) \r\n        .then(response => {\r\n            if (response.ok) {\r\n                swal(\"Report enviado!\", \"Obrigado pela sua contribuição!\", \"success\", {\r\n                    button: \"Fechar janela\",\r\n                });\r\n            } else {\r\n                swal(\"Erro no envio...\", \" \", \"error\");\r\n              }\r\n        })\r\n        .catch(error => {\r\n            console.log(error)    \r\n            return;\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    changeSubject (e) {\r\n        this.setState({\r\n            subject: e.target.value\r\n        });\r\n    }\r\n\r\n    changeText (e) {\r\n        this.setState({\r\n            text: e.target.value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <Container>\r\n                <h1> Quer dar-nos sugestões ou pretende reportar uma situação? </h1>\r\n                <br/>\r\n                <Row className=\"justify-content-md-center\">\r\n                    <Col lg=\"8\">           \r\n                        <Form>\r\n                            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\r\n                                <Form.Label>Assunto</Form.Label>\r\n                                <Form.Control as=\"textarea\" onChange = {this.changeSubject}/>\r\n                            </Form.Group>\r\n                            <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\r\n                                <Form.Label>Explicação mais detalhada</Form.Label>\r\n                                <Form.Control as=\"textarea\" rows={5} onChange = {this.changeText} />\r\n                            </Form.Group>\r\n                            <Button as=\"input\" type=\"submit\" value=\"Submeter\" onClick = {this.report}/>\r\n                        </Form>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Report;","import React, { Component } from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport { ServicePathsLabel,PathsLabel } from './Components/Common/Utils/Paths';\r\n\r\n\r\n\r\n//Logo\r\n//import logo from './logo.svg';\r\n\r\n//Styles\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'reactjs-popup/dist/index.css';\r\nimport \"react-datetime/css/react-datetime.css\";\r\n//import \"./Components/Common/Utils/Popups/CreateEvent.css\";\r\n\r\n\r\n//imports\r\nimport Menu from './Components/Common/Menu/Menu.js';\r\nimport Footer from './Components/Common/Footer/Footer.js';\r\nimport Home from './Components/Home/Home.js';\r\nimport Login from './Components/User/Login.js';\r\nimport Register from './Components/User/Register.js';\r\nimport UpdateInfo from './Components/User/UpdateInfo.js';\r\nimport Profile from './Components/User/Profile.js';\r\nimport ProfileSettings from './Components/User/ProfileSettings.js';\r\nimport ChangePassword from './Components/User/ChangePassword.js';\r\nimport Maps from './Components/Common/Utils/Maps.js';\r\nimport BackOffice from './Components/Common/Backoffice/BoHome.js';\r\nimport Feed from './Components/Common/Utils/Feed.js';\r\nimport AboutUs from './Components/Common/AboutUs/AboutUs.js';\r\nimport Report from './Components/Common/Utils/Report.js';\r\nimport EmailVerification from './Components/Common/Utils/EmailVerification.js';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <Menu />\r\n        <div className=\"div-body\">\r\n          <Switch>\r\n            <Route exact path='/' component={Home} />\r\n            <Route exact path={PathsLabel.Login} component={Login} />\r\n            <Route exact path={PathsLabel.Register} component={Register} />\r\n            <Route exact path={PathsLabel.Login} component={Login} />\r\n            <Route exact path={PathsLabel.UpdateInfo} component={UpdateInfo} />\r\n            <Route exact path={PathsLabel.Profile} component={Profile} />\r\n            <Route exact path={PathsLabel.ProfileSettings} component={ProfileSettings} />\r\n            <Route exact path={PathsLabel.ChangePassword} component={ChangePassword} />\r\n            <Route exact path={PathsLabel.Maps} component={Maps} />\r\n            <Route exact path={PathsLabel.BackOffice} component={BackOffice} />\r\n            <Route exact path={PathsLabel.Feed} component={Feed} />\r\n            <Route exact path={PathsLabel.AboutUs} component={AboutUs} />\r\n            <Route exact path={PathsLabel.Report} component={Report} />\r\n            <Route exact path={PathsLabel.EmailVerification} component={EmailVerification} />\r\n          </Switch>\r\n        </div>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}